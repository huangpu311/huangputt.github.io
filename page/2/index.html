<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>小江的个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="小江的个人博客">
<meta property="og:url" content="https://huangpu311.github.io/xiaojiang/page/2/index.html">
<meta property="og:site_name" content="小江的个人博客">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小江的个人博客">
  
    <link rel="alternate" href="/xiaojiang/atom.xml" title="小江的个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/xiaojiang/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/xiaojiang/" id="logo">小江的个人博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/xiaojiang/">Home</a>
        
          <a class="main-nav-link" href="/xiaojiang/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/xiaojiang/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://huangpu311.github.io/xiaojiang"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hexo搭建博客" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/03/29/hexo搭建博客/" class="article-date">
  <time datetime="2018-03-29T13:10:58.439Z" itemprop="datePublished">2018-03-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/03/29/hexo搭建博客/">hexo搭建博客遇到的坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="每次都被github警告"><a href="#每次都被github警告" class="headerlink" title="每次都被github警告"></a>每次都被github警告</h2><p>The CNAME <code>shuoit.net</code> is already taken. Check out <a href="https://help.github.com/articles/troubleshooting-custom-domains/#cname-already-taken" target="_blank" rel="noopener">https://help.github.com/articles/troubleshooting-custom-domains/#cname-already-taken</a> for more information.</p>
<p>For information on troubleshooting Jekyll see:</p>
<p>如上警告，因为你没有配置域名，只需要把 里面的cname文件删掉即可</p>
<h2 id="引入图片"><a href="#引入图片" class="headerlink" title="引入图片"></a>引入图片</h2><p><a href="http://blog.csdn.net/Sugar_Rainbow/article/details/57415705" target="_blank" rel="noopener">http://blog.csdn.net/Sugar_Rainbow/article/details/57415705</a></p>
<p>如文章引用即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/03/29/hexo搭建博客/" data-id="cjnblvxwv0004povaf5uq1gzl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos7 命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/03/29/centos7 命令/" class="article-date">
  <time datetime="2018-03-29T13:10:58.345Z" itemprop="datePublished">2018-03-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/03/29/centos7 命令/">centos7 命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h2><p>zone 区域</p>
<p>Runtime ：当前生效，重启之后失效。</p>
<p>Permanent:永久生效，当前不生效，重启后生效</p>
<p>查看已经开放的接口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --list-ports</span><br></pre></td></tr></table></figure>
<p>开启端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br></pre></td></tr></table></figure>
<p>firewall-cmd –zone=public –add-port=2181/tcp –permanent</p>
<p>firewall-cmd –reload</p>
<p>命令含义：</p>
<p>–zone #作用域</p>
<p>–add-port=80/tcp #添加端口，格式为：端口/通讯协议</p>
<p>–permanent #永久生效，没有此参数重启后失效</p>
<p>firewall-cmd –reload #重启firewall<br>systemctl stop firewalld.service #停止firewall<br>systemctl disable firewalld.service #禁止firewall开机启动</p>
<h4 id="查看端口号使用状态"><a href="#查看端口号使用状态" class="headerlink" title="查看端口号使用状态"></a>查看端口号使用状态</h4><p> netstat -tunlp |grep 端口号，用于查看指定的端口号的进程情况，如查看8000端口的情况，netstat -tunlp |grep 8000</p>
<h2 id="后台运行"><a href="#后台运行" class="headerlink" title="后台运行"></a>后台运行</h2><p><strong>nohup</strong>  </p>
<p>在处理命令前加上nohup即可，标准输出和标准错误缺省会被重定向到nohup.out 文件中，一般我们可以在结尾加上&amp; 来讲命令同时放入到后台运行，也可用 “?filename 2&gt;&amp;1”来更改缺省的重定向文件名。</p>
<p>&amp;</p>
<p>加在一个命令的最后可以把这个命令放到后台执行，如gftp &amp;</p>
<p>ctrl +z </p>
<p>可以将一个正在前台执行的命令放到后台，并且处于暂停状态，不可执行</p>
<p>jobs</p>
<p>查看当前有多少在后台运行的命令</p>
<p> netstat -nlp</p>
<p>查看占用端口的服务</p>
<p>netstat -nlp | grep :80</p>
<p>查看端口号为80的服务</p>
<p>rpm </p>
<h2 id="mysql安装"><a href="#mysql安装" class="headerlink" title="mysql安装"></a>mysql安装</h2><p>下载mysql的repo源</p>
<blockquote>
<p>wget <a href="http://repo.mysql.com/mysql57-community-release-el7-8.noarch.rpm" target="_blank" rel="noopener">http://repo.mysql.com/mysql57-community-release-el7-8.noarch.rpm</a></p>
<p>安装源  rpm -ivh mysql57-community-release-el7-8.noarch.rpm</p>
<p>安装数据库 yum install mysql-server</p>
<p>启动数据库  systemctl start mysqld</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep mysql 查看是否安装mysql</span><br><span class="line">rpm -e --nodeps mysql  删除mysql服务</span><br></pre></td></tr></table></figure>
<p> mysql 5.6 安装<a href="https://www.cnblogs.com/xiaojf/p/6561312.html" target="_blank" rel="noopener">https://www.cnblogs.com/xiaojf/p/6561312.html</a></p>
<p>####登录到msyql</p>
<p>5.7版本默认对于root帐号有一个随机密码，可以通过 grep “password” /var/log/mysqld.log获得，root@localhost: 此处为随机密码<br>运行mysql -uroot -p 回车<br>粘贴随机密码</p>
<h4 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h4><p>默认的随机密码是没办法直接对数据库做操作的，需要修改密码，然后，5.7版本用了validate_password密码加强插件，因此在修改密码的时候绝对不是 123456 能糊弄过去的。需要严格按照规范去设置密码<br>但是，如果想让密码简单点也可以，降低安全策略， 登录到mysql客户端执行如下两条命令</p>
<p>set global validate_password_length=1;</p>
<p>set global validate_password_policy=0; </p>
<p>这样就能设置简单的密码了，但是密码长度必须是大于等于4位</p>
<h4 id="赋权操作"><a href="#赋权操作" class="headerlink" title="赋权操作"></a>赋权操作</h4><p>默认情况下其他服务器的客户端不能直接访问mysql服务端，需要对ip授权</p>
<p>GRANT ALL PRIVILEGES ON  <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘root’ WITH GRANT OPTION;</p>
<p>grant replication slave on <em>.</em> to ‘repl‘@’%’ identified by ‘repl’;</p>
<p>create user repl identified by ‘repl’;</p>
<h2 id="文件压缩"><a href="#文件压缩" class="headerlink" title="文件压缩"></a>文件压缩</h2><p>tar </p>
<p>-c：建立压缩档案</p>
<p>-v:解压</p>
<p>-t:查看内容</p>
<p>-r:向压缩归档文件末尾追加文件</p>
<p>-u:更新远压缩包中的文件</p>
<p>这五个是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用但只能用其中一个。下面参数时根据需要在压缩或解压档案时可选的</p>
<p>-z:有gzip属性的</p>
<p>-j:有bx2属性的</p>
<p>-Z：有compress属性的</p>
<p>-v：显示所有过程</p>
<p>-O：将文件解开到标准输出</p>
<p>下面参数时必须的</p>
<p>-f：使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名</p>
<p>tar -cf all.tar*.jpg</p>
<p>这条命令是将所有.jpg的文件打成一个名为all.tar的包。</p>
<p>tar -rf all.tar *.gif</p>
<p>这条命令是将所有.gif的文件增加到all.tar的包里面去。</p>
<p>tar -uf all.tar logo.gif</p>
<p>这条命令是更新原来tar包all.tar中的logo.gif</p>
<p>tar -tf all.tar </p>
<p>这条命令是列出all.tar包中的所有文件</p>
<p>tar -xf all.tar</p>
<p>这条命令是解出all.tar包中所有的文件</p>
<p>linux下文件的复制、移动与删除命令为：cp，mv，rm</p>
<p>参考文档：<a href="https://www.cnblogs.com/liaojie970/p/6746230.html" target="_blank" rel="noopener">https://www.cnblogs.com/liaojie970/p/6746230.html</a></p>
<hr>
<h2 id="日志操作"><a href="#日志操作" class="headerlink" title="日志操作"></a>日志操作</h2><p>  根据关键字查找日志文件  cat app.log |grep ‘error’</p>
<p> 查询日志后十行数据  tail -n 10 app.log</p>
<p>查询十行之后的日志  tail -n +10 app.log</p>
<p>查询日志文件的头十行日志  head -n10 app.log</p>
<p>查询日志中含有某个关键字并显示出行号  cat -n app.log | grep error</p>
<p>把日志文件保存到txt文件  cat -n applog| grep error -&gt; temp.txt</p>
<p>查询日志文件102行前十行和后十行的数据  cat  -n app.log |tail -n +92 |head -n 20</p>
<hr>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><p>复制文件1到文件2</p>
<p>cp file1 file2</p>
<p>yum 操作<br> 安装maven</p>
<p>wget <a href="http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo" target="_blank" rel="noopener">http://repos.fedorapeople.org/repos/dchen/apache-maven/epel-apache-maven.repo</a> -O /etc/yum.repos.d/epel-apache-maven.repo<br>yum -y install apache-maven</p>
<h2 id="必备命令"><a href="#必备命令" class="headerlink" title="必备命令"></a>必备命令</h2><p>systemctl enable 服务名称    将服务加入到开机启动项中</p>
<p>systemctl  start 服务名称  启动服务</p>
<p>systemctl restart 服务名称  重启服务</p>
<p>systemctl stop 服务名称   关闭服务</p>
<p>systemctl status 服务名称  查看服务状态</p>
<p>参数是为了让命令更加适合的执行命令</p>
<p>man  man </p>
<p>echo xxxx</p>
<p>echo $SHELL</p>
<p>date </p>
<p>date “+Y-%m-%d  %H:%M:%:%S”  时间</p>
<p>top命令：</p>
<p>当前时间 ，开机时间</p>
<p>load average: 0.00, 0.01, 0.05</p>
<p>1分钟  5分钟 15分钟</p>
<p>1分钟正常 ，5分钟危险</p>
<p>进程数量、正在提供服务 ，等待 、停止，僵尸进程</p>
<p>pid 进程号码</p>
<p>user 进程发起</p>
<p>pr ni  优先级  数字越小 优先级越高</p>
<p>pidof   服务  查看pid</p>
<p>ifconfig</p>
<p>uname  -a</p>
<p>uptime </p>
<p>free -g 以G为单位查看信息</p>
<p>who</p>
<p>last</p>
<p>history</p>
<p>!+行号 执行过的命令</p>
<p>history -c  清空 </p>
<p>sosreport   简单排错</p>
<p>liunx一切都是文件。</p>
<p>cat  小文件</p>
<p>more 大文件</p>
<p>head  从头部看</p>
<p>tail  从尾部看 </p>
<p>wc 统计行  wc -l </p>
<p>stat  文件的访问时间   修改时间  更改时间</p>
<p>cut  </p>
<p>diff 对比文件</p>
<p>touch   创建文本文件</p>
<p>mkdir -p  /x/x/x  进行层次创建</p>
<p>cp -r  复制目录</p>
<p>mv  剪切</p>
<p>rm 删除  -f  不进行确认，强制删除  -r   进行目录操作</p>
<p>dd  复制多少字节</p>
<p>file 判断是否是文件</p>
<p>tar czvf   压缩包名称   目录名称   按照gz格式进行压缩文件</p>
<p>c创建压缩文件</p>
<p>z   用gzip压缩 或者解压</p>
<p>j  bzip2格式</p>
<p>v   显示压缩过程</p>
<p>f  目标文件名</p>
<p>x解压</p>
<p>tar  xzxvf   解压</p>
<p>grep  匹配目标文件包含对应字符的内容   -n 显示行号 -v 反选 没有包含字符的行</p>
<p>find   搜索  /  根目录  -name 文件名称   -user  归属给谁</p>
<p>whereis    搜索</p>
<p>exec 将前面搜索过的数据  cp -rf{} /root  \;</p>
<p>星号 通配符</p>
<p>?  匹配一个字符</p>
<p>[1-9]   </p>
<p>{1,2}  如果没有匹配到 会报错</p>
<p>alias pp=’命令’</p>
<h2 id="用户权限"><a href="#用户权限" class="headerlink" title="用户权限"></a>用户权限</h2><p>管理员 用户UID  1-999</p>
<p>普通用户 UID 1000-</p>
<p>管理员UID为0</p>
<p>useradd 新增用户   -u指定用户uid</p>
<p>groupadd </p>
<p>基本组</p>
<p>-g</p>
<p>扩展组</p>
<p>-G</p>
<p>减号 普通文件或者文本文件  </p>
<p>d目录文件</p>
<p>l 链接文件</p>
<p>b c  硬件设备</p>
<p>r read </p>
<p>w  write </p>
<p>x  execute </p>
<p>rwx   4 2 1      7  </p>
<p>所有者 所有组  其他人</p>
<p>普通文件 r 读取内容 w 写入  x 执行</p>
<p>目录文件  r 查看列表的权限 w 写入   x  切换</p>
<p>一般权限  </p>
<p>rwx</p>
<p>特殊权限</p>
<p>suid   </p>
<p>二进制可执行文件  u+s</p>
<p>所有者的权限</p>
<p>sgid</p>
<p>所有组的权限   g+s</p>
<p>sbid</p>
<p>目录  o+t</p>
<p>chmod 权限  文件名称  （-R 目录）</p>
<p>chown 用户名称:用户组名  </p>
<p>隐藏权限</p>
<p>chattr   设置  +    -</p>
<p>lsattr 查看</p>
<p>i 删除 </p>
<p>a 清空原来的内容</p>
<p>FACL权限</p>
<p>file access control list</p>
<p>setfacl 设置</p>
<p>setfacl -Rm u:zhangsan:rwx</p>
<p>getfacl </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/03/29/centos7 命令/" data-id="cjnblvxvt0000povaw0qvfruq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/03/29/hello-world/" class="article-date">
  <time datetime="2018-03-29T13:06:44.838Z" itemprop="datePublished">2018-03-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/03/29/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/03/29/hello-world/" data-id="cjnblvxx5000apova70xfccvs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-spring-cloud" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/03/22/spring-cloud/" class="article-date">
  <time datetime="2018-03-22T06:30:37.000Z" itemprop="datePublished">2018-03-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/03/22/spring-cloud/">spring-cloud</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="spring-cloud-config"><a href="#spring-cloud-config" class="headerlink" title="spring-cloud-config"></a>spring-cloud-config</h2><p>Accpilcation EveironmentPre</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/03/22/spring-cloud/" data-id="cjnblvxx7000bpovagq6viohl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nginx" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/03/22/nginx/" class="article-date">
  <time datetime="2018-03-22T00:56:57.000Z" itemprop="datePublished">2018-03-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/03/22/nginx/">nginx</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="nginx命令"><a href="#nginx命令" class="headerlink" title="nginx命令"></a>nginx命令</h2><h3 id="nginx三个模块"><a href="#nginx三个模块" class="headerlink" title="nginx三个模块"></a>nginx三个模块</h3><p>核心模块： HTTP模块、EVENT模块和MAIL模块<br>基础模块： HTTP Access模块、HTTP FastCGI模块、HTTP Proxy模块和HTTP Rewrite模块<br>第三方模块： HTTP Upstream Request Hash模块、Notice模块和HTTP Access Key模块及用户自己开发的模块</p>
<p>来源: 实验楼</p>
<p>链接: <a href="https://www.shiyanlou.com/courses/95" target="_blank" rel="noopener">https://www.shiyanlou.com/courses/95</a></p>
<p>本课程内容，由作者授权实验楼发布，未经允许，禁止转载、下载及非法传播</p>
<h3 id="nginx安装"><a href="#nginx安装" class="headerlink" title="nginx安装"></a>nginx安装</h3><p>1、tar -zxvf  安装包</p>
<p>2、.进入文件夹 运行 ./configure –prefix=  目录，默认安装到/usr/local/nginx</p>
<p>3、运行 make &amp; make install</p>
<p>启动命令</p>
<p>进入sbin文件夹 ，运行./nginx即可</p>
<p>./nginx -s stop  停止</p>
<p>./nginx -s quit   退出</p>
<p>./nginx -s reload  重新加载nginx.conf</p>
<p>查看nginx是否运行</p>
<p>ps -ef| grep nginx</p>
<p>验证nginx.conf是否报错</p>
<p>./nginx -t</p>
<p>重新加载nginx 文件</p>
<p>./nginx -s reload</p>
<h3 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h3><p>基于域名的虚拟主机</p>
<p>修改host 文件</p>
<p>基于端口号的虚拟主机</p>
<p>基于ip的虚拟主机</p>
<h3 id="nginx-日志配置"><a href="#nginx-日志配置" class="headerlink" title="nginx 日志配置"></a>nginx 日志配置</h3><p>通过access_log进行日志记录</p>
<p>error.log</p>
<p>nginx 日志切割</p>
<h3 id="location的语法和匹配规则"><a href="#location的语法和匹配规则" class="headerlink" title="location的语法和匹配规则"></a>location的语法和匹配规则</h3><p>功能描述：执行 URL 重定向,允许你去掉带有恶意的 URL，包含多个参数（修改）.利用正则的匹配，分组和引用，达到目的</p>
<p>来源: 实验楼</p>
<p>链接: <a href="https://www.shiyanlou.com/courses/95" target="_blank" rel="noopener">https://www.shiyanlou.com/courses/95</a></p>
<p>本课程内容，由作者授权实验楼发布，未经允许，禁止转载、下载及非法传播</p>
<p>精准匹配</p>
<p>优先级最高的匹配规则</p>
<p>一般匹配</p>
<p>如果存在多个相同前缀的一般匹配，那么最终会按照最大长度的进行匹配。</p>
<p>正则匹配</p>
<h3 id="rewaite模块"><a href="#rewaite模块" class="headerlink" title="rewaite模块"></a>rewaite模块</h3><p>模块：ngx_http_rewrite_module</p>
<p>支持url 重写；if判断、return </p>
<p>作用范围：server/location/if中；只能对域名，后面的出处的参数外的字符串起作用。</p>
<p>if(条件){}</p>
<p>=号或者~;</p>
<p>return 指令</p>
<p>return code </p>
<p>if($request_uri~ *\sh){</p>
<p>​    return 403</p>
<p>}</p>
<p>语法： rewrite regex replacement [flag]{last/break/redirect 返回临时302/permant 返回永久302}</p>
<p>重写连接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">      rewrite '^/images/([a-z]&#123;3&#125;)/(.*)\.(png)$' /mic?file=$2.$3 break ;</span><br><span class="line">      set $image_file $2;</span><br><span class="line">      set $image_type $3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location /mic &#123;</span><br><span class="line">      access_log logs/hp.log main;</span><br><span class="line">      root html;</span><br><span class="line">      try_files /$arg_file /image404.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location = /image404.html&#123;</span><br><span class="line">      return 404 "imgage not found exception";</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>图片缓存</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  localhost;</span><br><span class="line">    location /&#123;</span><br><span class="line">      root html;</span><br><span class="line">      index index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">    location ~\.(png|jpg|js|css|gif)$ &#123;</span><br><span class="line">      root html/images;</span><br><span class="line">      expires 5m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Gzip压缩策略</p>
<p>浏览器请求服务端 会告诉服务端当前浏览器可以支持的压缩类型；</p>
<p>服务端会把内容根据浏览器所支持的压缩策略去进行压缩返回;</p>
<p>浏览器拿到数据以后解码；</p>
<p>gzip、deflate、sdch</p>
<h3 id="Proxy-模块"><a href="#Proxy-模块" class="headerlink" title="Proxy 模块"></a>Proxy 模块</h3><p>模块：ngx_http_proxy_module</p>
<p>功能描述：此模块能代理请求到其它服务器.也就是说允许你把客户端的 HTTP 请求转到后端服务器(这部分的指令非常多，但不是全部都会被用到，这里是比较常见的指令简介)</p>
<h3 id="upstream-模块"><a href="#upstream-模块" class="headerlink" title="upstream 模块"></a>upstream 模块</h3><p>模块：ngx_http_upstream_modules</p>
<p>功能简介：该指令使请求被上行信道之间的基于客户端的 IP 地址分布</p>
<h3 id="模拟文件命令"><a href="#模拟文件命令" class="headerlink" title="模拟文件命令"></a>模拟文件命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#############每个指令必须要用分号结束##############</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">user administrator administrators; <span class="comment">#配置用户或组，默认nobody nobody</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">worker_processes 2 ;<span class="comment"># 允许生成的进程数，默认为1</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">pid /nginx/pid/nginx.pid; <span class="comment"># 指定nginx进程允许文件存放地址</span></span></span><br><span class="line">error_log log/error.log debug ; # 制定日志路径级别，这个设置可以放入全局块，http块，server块，级别依次为debug|info|notice|warn|error|crit|alert|emerg</span><br><span class="line">events &#123;</span><br><span class="line">    accept_mutes on; #设置网路连接序列化，防止出现惊群现象发生，默认为on</span><br><span class="line">    multi_accept on; #设置一个进程是否同时</span><br><span class="line">    #use  epoll; #事件驱动模型 select|poll|kqueue|epoll|resig|dev|poll|eventport</span><br><span class="line">    work_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    include mime.types;# 文件扩展名与文件类型映射表</span><br><span class="line">    default_type application/octet-stream；#默认文件类型，默认为text/plain</span><br><span class="line">    access_log off;#取消服务日志</span><br><span class="line">    log_format myFormat '$remote_addr-'</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/03/22/nginx/" data-id="cjnblvxxv000qpova1keywzwq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-医疗" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/02/27/医疗/" class="article-date">
  <time datetime="2018-02-27T10:59:24.000Z" itemprop="datePublished">2018-02-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/02/27/医疗/">医疗</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="绿色就诊系统产品需求分析"><a href="#绿色就诊系统产品需求分析" class="headerlink" title="绿色就诊系统产品需求分析"></a>绿色就诊系统产品需求分析</h2><h3 id="1、目的"><a href="#1、目的" class="headerlink" title="1、目的"></a>1、目的</h3><p>在医疗纠纷和医疗事故普遍存在的当下，如何能够放心的对疾病进行治疗已经成为当下亟待解决的社会矛盾，针对这一矛盾，我认为应该从以下几方面进行解决。</p>
<h4 id="1、医疗药品公开透明化"><a href="#1、医疗药品公开透明化" class="headerlink" title="1、医疗药品公开透明化"></a>1、医疗药品公开透明化</h4><p>让社会各阶层人士能够买到放心药、实在药，要做到药品制造、运输、售价等各个方面的公开化，让民众收益，这样才能减少医患纠纷等事情的发生。</p>
<h4 id="2、医生评价公开化"><a href="#2、医生评价公开化" class="headerlink" title="2、医生评价公开化"></a>2、医生评价公开化</h4><p>许多好医生因为许多原因，不能够被医院所认可，对医生进行评价，让事实说话，这样才能让好的医生获得其自身的价值。同时，也可以让激励医生不断的进步。</p>
<h4 id="3、医疗诊断网络化"><a href="#3、医疗诊断网络化" class="headerlink" title="3、医疗诊断网络化"></a>3、医疗诊断网络化</h4><p>许多人因为地域原因一些小病不能够进行及时的治疗，如果通过互联网找医生进行治疗，可以及时的治疗小病，并且可以预防一些大病的发生。</p>
<h4 id="4、部分患者诊疗透明化"><a href="#4、部分患者诊疗透明化" class="headerlink" title="4、部分患者诊疗透明化"></a>4、部分患者诊疗透明化</h4><p>可以通过部分患者的同意，将患者的就诊过程发布出来，供其他患者参考。</p>
<h4 id="5、救助基金网络化"><a href="#5、救助基金网络化" class="headerlink" title="5、救助基金网络化"></a>5、救助基金网络化</h4><p>当产生大病或者困难家庭就诊时，通过其他病友或者网络进行捐款，付款全部走平台，如果捐款有剩余，可以通过百分比进行退回</p>
<h4 id="6、第三方监管并且每季度发布相关成果"><a href="#6、第三方监管并且每季度发布相关成果" class="headerlink" title="6、第三方监管并且每季度发布相关成果"></a>6、第三方监管并且每季度发布相关成果</h4><p>通过平台进行第三方监管，让患者能够放心就诊，基金能够得到合理利用</p>
<h4 id="7、急诊绿色通道网络化"><a href="#7、急诊绿色通道网络化" class="headerlink" title="7、急诊绿色通道网络化"></a>7、急诊绿色通道网络化</h4><p>如果一个边远城市的人患了急病，需要到上海进行就诊，可以通过网络确认其就诊路线，并且得到路途中其他人员的协助，最快的速度进行救治。</p>
<h3 id="2、产品主体"><a href="#2、产品主体" class="headerlink" title="2、产品主体"></a>2、产品主体</h3><h4 id="患者"><a href="#患者" class="headerlink" title="患者"></a>患者</h4><p>通过产品可以让患者能够快速的就医，可以通过 搜索症状、附近医院、附近好医生、分类好医生排行榜、分类患者交流等方式进行就诊或者治疗</p>
<h4 id="医生"><a href="#医生" class="headerlink" title="医生"></a>医生</h4><p>医生可以进行个人注册，医生可以发布文章，远程治疗（开处方到在药店直接邮寄拿药）、免费咨询等方式获取好评，吸引更多的患者前来就医。</p>
<p>医生的文章可以获得赞赏，医生个人也可以得到赞赏，通过患者的鼓励可以更好的支持医生的工作。</p>
<h4 id="医疗机构"><a href="#医疗机构" class="headerlink" title="医疗机构"></a>医疗机构</h4><p>医疗机构可以进行注册，患者可以更方便的找到最近的医院。</p>
<p>医院可以发布动态，更好的宣传自己，</p>
<p>医院可以设立咨询机构，免费通过网络进行咨询。</p>
<p>医院由第三方机构和软件使用患者进行评级，能让患者更好的医院。</p>
<h4 id="药店"><a href="#药店" class="headerlink" title="药店"></a>药店</h4><p>主要支持医生进行远程开处方等形式存在，并且可以邮寄，不接受个人买药。</p>
<h4 id="药品"><a href="#药品" class="headerlink" title="药品"></a>药品</h4><p>对每种药品进行介绍，方便患者更清楚的使用药品</p>
<h4 id="医疗器材"><a href="#医疗器材" class="headerlink" title="医疗器材"></a>医疗器材</h4><p>可以单独售卖，对患者进行辅助性治疗</p>
<h4 id="普通人群"><a href="#普通人群" class="headerlink" title="普通人群"></a>普通人群</h4><p>可以关注相关健康文章，预防和知道最新的疾病信息。</p>
<h4 id="基金"><a href="#基金" class="headerlink" title="基金"></a>基金</h4><h3 id="3、产品功能"><a href="#3、产品功能" class="headerlink" title="3、产品功能"></a>3、产品功能</h3><p>每个人进入产品都是以普通人群的方式进入，产品应该以预防疾病等方式存在，并且提供最新的医疗咨询。</p>
<p>医生查询：</p>
<p>可以查询到这个医生的详细信息、医生的诊疗评价、医生的推荐指数、医生的文章，医生咨询反馈率，同时可以对医生进行免费咨询和赞赏。</p>
<p>医院查询：</p>
<p>可以查询到医院的详细信息、医院的评价、医院的文章、医院的反馈率和免费咨询。</p>
<p>附近医院</p>
<p>附近药店</p>
<p>医疗器材查询：</p>
<p>查询居民可以购买的医疗器材，可以作为商品进行售卖。</p>
<p>医疗基金</p>
<p>医疗基金统计、捐赠医疗基金、最新捐赠人员等。</p>
<p>药品查询：</p>
<p>可以查询到药品的详细信息</p>
<p>综合查询</p>
<p>查询以上分类的任何东西</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/02/27/医疗/" data-id="cjnblvxxp000mpovadnj5ncs9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-dubbo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/02/27/dubbo/" class="article-date">
  <time datetime="2018-02-27T08:18:35.000Z" itemprop="datePublished">2018-02-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/02/27/dubbo/">dubbo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="官网"><a href="#官网" class="headerlink" title="官网"></a>官网</h2><p><a href="http://dubbo.io/" target="_blank" rel="noopener">http://dubbo.io/</a></p>
<p>文档地址 <a href="http://dubbo.io/books/dubbo-user-book/" target="_blank" rel="noopener">http://dubbo.io/books/dubbo-user-book/</a></p>
<p>dubbo是一个分布式的服务框架，提供高性能的以及透明化的RPC远程服务调用解决方案，以及AOA服务治理方案。</p>
<p>##Dubbo的核心部分</p>
<p>远程通信</p>
<p>集群容错</p>
<p>服务的自动发现</p>
<p>负载均衡</p>
<h2 id="Dubbo的架构"><a href="#Dubbo的架构" class="headerlink" title="Dubbo的架构"></a>Dubbo的架构</h2><p>核心角色</p>
<h2 id="集群容错"><a href="#集群容错" class="headerlink" title="集群容错"></a>集群容错</h2><p>failsafe 失败安全，可以任务把错误吞掉（记录日志） </p>
<p>failover 默认   重试服务器 retrie (2)</p>
<p>failfast 快速失败，失败后立马报错</p>
<p>failback 失败后恢复</p>
<p>forking  forks设置并行的最大数</p>
<p>broadcast 广播，任意一台报错，则执行的方法报错</p>
<p>通过cluster配置</p>
<p>配置的优先级别 </p>
<p> 客户端由于服务端</p>
<p>1、方法级别优先，然后是接口 ，然后是全局</p>
<p>2、如果级别是一样的，客户端优先</p>
<h2 id="服务降级"><a href="#服务降级" class="headerlink" title="服务降级"></a>服务降级</h2><h2 id="java-spi"><a href="#java-spi" class="headerlink" title="java  spi"></a>java  spi</h2><p>1，在META-INF/service下面定义 java.sql.Driver下定义类</p>
<p>2.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/02/27/dubbo/" data-id="cjnblvxwz0006povavnw0td2g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-docker" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/02/27/docker/" class="article-date">
  <time datetime="2018-02-27T00:59:35.000Z" itemprop="datePublished">2018-02-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/02/27/docker/">docker</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Docker命令"><a href="#Docker命令" class="headerlink" title="Docker命令"></a>Docker命令</h2><h4 id="docker组成"><a href="#docker组成" class="headerlink" title="docker组成"></a>docker组成</h4><ol>
<li>dockerClient客户端</li>
<li>Docker Daemon守护进程</li>
<li>Docker Image镜像</li>
<li>DockerContainer容器</li>
</ol>
<p>容器：对象</p>
<p>镜像：类</p>
<p>–name  docker 命名</p>
<p>1、docker  拉取tomcat镜像</p>
<p>docker pull tomcat</p>
<p>2、docker运行tomcat 容器</p>
<p>docker run -d -p 9000:8080 tomcat:7</p>
<p>netstat -antp|grep 3306</p>
<p>docker run –name mysql5.7 -p 3306:3306 -v /hp/data/mysql/datadir:/var/lib/mysql -v /hp/data/mysql/conf.d:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7</p>
<p>查看tomcat路径</p>
<p>docker exec -it   name  /bin/bash</p>
<p>进入容器</p>
<p>docker run -ti centos bash</p>
<p>docker ps 查看正在运行的容器</p>
<p>docker ps -l 列出一个进行运行过的容器</p>
<p>docker ps -a 查看所有容器，包括已经停止的容器</p>
<p>docker ps -q 只展示正在运行的容器id</p>
<p>安装docker </p>
<p>yum install docker</p>
<p>启动docker</p>
<p> service docker start（systemctl start docker.service）</p>
<p>将docker设置为开机启动</p>
<p>chkconfig docker on（systemctl enable docker.service）</p>
<p>获取centos镜像到本地</p>
<p>docker pull centos</p>
<h3 id="docker安装镜像比较慢"><a href="#docker安装镜像比较慢" class="headerlink" title="docker安装镜像比较慢"></a>docker安装镜像比较慢</h3><p>进入这个网站进行注册 <a href="https://account.daocloud.io/signin，点击加速器进入https://www.daocloud.io/mirror#accelerator-doc，然后复制命令在linux里面运行即可。" target="_blank" rel="noopener">https://account.daocloud.io/signin，点击加速器进入https://www.daocloud.io/mirror#accelerator-doc，然后复制命令在linux里面运行即可。</a></p>
<p>运行后可能会出现docker起不来，这个是因为/etc/docker 下的daemon.json文件不是json格式导致的</p>
<p>运行后重启docker(service docker restart )</p>
<p>docker run 命令格式</p>
<p>-d,–detach=false  指定容器运行于前台还是后台，默认false</p>
<p>-i,–interactive=false  打开TIDIN,用于控制台交互</p>
<p>-t,-tty=false   分配tty设置，该可以支持终端登录，默认false</p>
<p>-u, –user=”” 指定容器的用户</p>
<p>-a , –attach=[] 登录容器(必须是以docker run -d 启动容器)</p>
<p>-w,–workdir=”” 指定容器的工作目录</p>
<p>-c,–cpu-shares =0,设置容器cpu权重，在cpu共享场景使用</p>
<p>-e,–env=[] 指定环境变量，容器中可以使用该环境变量</p>
<p>-m,–memory =”” 指定容器内存上限</p>
<p>-P, –publish-all =false 指定暴露的端口</p>
<p>-p ,–publish=[] 指定容器暴露端口</p>
<p>-h ,–hostname =”” 指定容器主机名</p>
<p>-v ,–volume=[] 给容器挂载存储卷，挂载到容器的某个目录</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/02/27/docker/" data-id="cjnblvxx30009povahw3gycde" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mongodb" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/02/06/mongodb/" class="article-date">
  <time datetime="2018-02-06T08:08:32.000Z" itemprop="datePublished">2018-02-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/02/06/mongodb/">mongodb</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###与非关系数据库对比</p>
<p>MongoDB是一个最像关系型数据库的非关系型数据库</p>
<p>关系型数据库 ：事务、表关联、表结构操作</p>
<p>非关系型数据库：无事务、数据与数据之间没有关联、key-value</p>
<p>table collection</p>
<p>row  document</p>
<p>column  field</p>
<p>index  index</p>
<p>pk ObjectId</p>
<p>BSON是二进制的JSON</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongod -dbpath=/usr/local/mongodb/data -logpath=/usr/local/mongodb/logs</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongod -shutdown -dbpath=/usr/local/mongodb/data</span><br></pre></td></tr></table></figure>
<p>启动远程连接</p>
<p>./mongod -dbpath=/usr/local/mongodb/data -logpath=/usr/local/mongodb/mongodb.log -logappend -bind_ip=0.0.0.0  -port=27017  -fork</p>
<p>创建权限</p>
<p>db.createUser( {<br>​    user: “sa”,<br>​    pwd: “sa”,<br>​    roles: [ { role: “root”, db: “admin” } ]<br>  });</p>
<p>添加test库的账户</p>
<p>> db.createUser({user:’test’,pwd:’mongodb’,roles:[{role:’dbOwner’, db:’test’}]});</p>
<p>说明：</p>
<p>roles的可选项有：</p>
<p>\1. 数据库用户角色：read、readWrite;<br>\2. 数据库管理角色：dbAdmin、dbOwner、userAdmin；<br>\3. 集群管理角色：clusterAdmin、clusterManager、clusterMonitor、hostManager；<br>\4. 备份恢复角色：backup、restore；<br>\5. 所有数据库角色：readAnyDatabase、readWriteAnyDatabase、userAdminAnyDatabase、dbAdminAnyDatabase<br>\6. 超级用户角色：root</p>
<p>./mongod -f mongodb.conf</p>
<p>参考地址</p>
<p><a href="https://www.cnblogs.com/paopaoquan/p/6375071.html" target="_blank" rel="noopener">https://www.cnblogs.com/paopaoquan/p/6375071.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/02/06/mongodb/" data-id="cjnblvxx9000dpovapj5xfg9u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/02/05/git/" class="article-date">
  <time datetime="2018-02-05T02:17:19.000Z" itemprop="datePublished">2018-02-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/02/05/git/">git</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="git-http方式保存-密码"><a href="#git-http方式保存-密码" class="headerlink" title="git http方式保存 密码"></a>git http方式保存 密码</h3><p>clone下来后，在.git/config 里面添加<br>[credential]<br>    helper = store</p>
<h3 id="git基础知识"><a href="#git基础知识" class="headerlink" title="git基础知识"></a>git基础知识</h3><h5 id="git-优势"><a href="#git-优势" class="headerlink" title="git 优势"></a>git 优势</h5><p>本地存储，速度快</p>
<p>分布式存储，不完全依赖中央仓库</p>
<h5 id="文件的三种状态"><a href="#文件的三种状态" class="headerlink" title="文件的三种状态"></a>文件的三种状态</h5><p> 已提交（committed）、已修改（modified）和已暂存（staged）、</p>
<p>已跟踪的(tracked)</p>
<p>已提交表示数据已经安全的保存在本地数据库中。 </p>
<p>已修改表示修改了文件，但还没保存到数据库中。</p>
<p> 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。</p>
<h5 id="git的三个工作区域"><a href="#git的三个工作区域" class="headerlink" title="git的三个工作区域"></a>git的三个工作区域</h5><h6 id="Git-仓库"><a href="#Git-仓库" class="headerlink" title="Git 仓库"></a>Git 仓库</h6><p>git用来保存元数据和对象数据库的地方，</p>
<h6 id="工作目录"><a href="#工作目录" class="headerlink" title="工作目录"></a>工作目录</h6><p>对项目的某个版本独立提取出来的内容</p>
<h6 id="暂存区域"><a href="#暂存区域" class="headerlink" title="暂存区域"></a>暂存区域</h6><p>暂存区域是一个文件，保存了下次将要提交的文件列表的信息，也被称作”索引”</p>
<p>基本的git工作流程如下：</p>
<p>1、在工作目录下修改文件</p>
<p>2、暂存文件，将文件的快照放到暂存区域</p>
<p>3、提交更新，找到暂存区域的文件，将快照永久性的存储到git仓库目录</p>
<p>如果git保存着特定版本的文件，就是已提交状态</p>
<p>如果修改了已放到暂存区域，就是已暂存状态</p>
<p>如果修改了，还没有放到暂存区域就是已修改状态</p>
<h5 id="git命令"><a href="#git命令" class="headerlink" title="git命令"></a>git命令</h5><p>设置你的用户名称与邮件地址</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git config --global user.name "name"</span><br><span class="line"><span class="meta">$</span> git config --global user.email xxx@qq.com</span><br></pre></td></tr></table></figure>
<p>查看设置的用户名和邮件地址</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>
<p>如果加了–global，那么在你电脑上默认都是用这个信息，如果有新的项目需要更换用户名和邮箱，那么将–global去掉再运行一遍即可。</p>
<p>git帮助手册</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git help &lt;verb&gt;</span><br><span class="line"><span class="meta">$</span> git &lt;verb&gt; --help</span><br><span class="line"><span class="meta">$</span> man git-&lt;verb&gt;</span><br></pre></td></tr></table></figure>
<p>如果需要获取config的帮助手册，输入命令 git config –help即可。</p>
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">git init</td>
<td style="text-align:center">git 初始化</td>
</tr>
<tr>
<td style="text-align:center">git clone url  文件夹名称</td>
<td style="text-align:center">git 克隆代码</td>
</tr>
<tr>
<td style="text-align:center">git add .</td>
<td style="text-align:center">git 添加到跟踪状态</td>
</tr>
<tr>
<td style="text-align:center">git status</td>
<td style="text-align:center">查看文件状态</td>
</tr>
<tr>
<td style="text-align:center">git status -s</td>
<td style="text-align:center">以简短的方式查看文件状态</td>
</tr>
<tr>
<td style="text-align:center">git diff</td>
<td style="text-align:center">尚未暂存的文件更新了哪些地方</td>
</tr>
<tr>
<td style="text-align:center">git diff –cached\staged</td>
<td style="text-align:center">已暂存将要下次提交的内容更新的地方</td>
</tr>
<tr>
<td style="text-align:center">git commit -m xxx</td>
<td style="text-align:center">已暂存到已修改状态</td>
</tr>
<tr>
<td style="text-align:center">git  commit -a</td>
<td style="text-align:center">跳过使用暂存区域</td>
</tr>
<tr>
<td style="text-align:center">git  rm</td>
<td style="text-align:center">移除暂存区的文件</td>
</tr>
<tr>
<td style="text-align:center">git log</td>
<td style="text-align:center">查看提交历史</td>
</tr>
<tr>
<td style="text-align:center">git log -p -2</td>
<td style="text-align:center">仅显示最近2次提交</td>
</tr>
<tr>
<td style="text-align:center">git log –stat</td>
<td style="text-align:center">查看每次提交的简略信息</td>
</tr>
<tr>
<td style="text-align:center">git log –pretty=oneline</td>
<td style="text-align:center">一行显示日志</td>
</tr>
<tr>
<td style="text-align:center">git log –pretty=format:”%h - %an, %ar : %s”</td>
<td style="text-align:center">按照格式输出</td>
</tr>
<tr>
<td style="text-align:center">git log –pretty=format:”%h %s” –graph</td>
<td style="text-align:center">图形输出</td>
</tr>
<tr>
<td style="text-align:center">git commit –amend</td>
<td style="text-align:center">将暂存区文件提交，上一次的 快照会保持不变</td>
</tr>
<tr>
<td style="text-align:center">git reset  HEAD  文件</td>
<td style="text-align:center">取消暂存</td>
</tr>
<tr>
<td style="text-align:center">git checkout –文件名</td>
<td style="text-align:center">撤销暂存</td>
</tr>
<tr>
<td style="text-align:center">git tag</td>
<td style="text-align:center">查看标签</td>
</tr>
<tr>
<td style="text-align:center">git show</td>
<td style="text-align:center">查看日志</td>
</tr>
<tr>
<td style="text-align:center">git push origin v1.5</td>
<td style="text-align:center">推送标签</td>
</tr>
<tr>
<td style="text-align:center">git push origin –tags</td>
<td style="text-align:center">推送多个标签</td>
</tr>
<tr>
<td style="text-align:center">git checkout -b branchname  tagname</td>
<td style="text-align:center">检出标签</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>git log 常用命令</p>
<table>
<thead>
<tr>
<th><code>-p</code></th>
<th>按补丁格式显示每个更新之间的差异。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--stat</code></td>
<td>显示每次更新的文件修改统计信息。</td>
</tr>
<tr>
<td><code>--shortstat</code></td>
<td>只显示 –stat 中最后的行数修改添加移除统计。</td>
</tr>
<tr>
<td><code>--name-only</code></td>
<td>仅在提交信息后显示已修改的文件清单。</td>
</tr>
<tr>
<td><code>--name-status</code></td>
<td>显示新增、修改、删除的文件清单。</td>
</tr>
<tr>
<td><code>--abbrev-commit</code></td>
<td>仅显示 SHA-1 的前几个字符，而非所有的 40 个字符。</td>
</tr>
<tr>
<td><code>--relative-date</code></td>
<td>使用较短的相对时间显示（比如，“2 weeks ago”）。</td>
</tr>
<tr>
<td><code>--graph</code></td>
<td>显示 ASCII 图形表示的分支合并历史。</td>
</tr>
<tr>
<td><code>--pretty</code></td>
<td>使用其他格式显示历史提交信息。可用的选项包括 oneline，short，full，fuller 和 format（后跟指定格式）。</td>
</tr>
</tbody>
</table>
<p> 缺少记录</p>
<p>远程仓库 记录</p>
<p>git 别名</p>
<p>标签：</p>
<p> 附注标签：git tag -a v1.1 -m ‘附注’</p>
<p>轻量标签： git tag v1.1</p>
<p> 忽略文件</p>
<p> .gitignore  </p>
<p>git  查看状态   </p>
<h3 id="gitlab搭建"><a href="#gitlab搭建" class="headerlink" title="gitlab搭建"></a>gitlab搭建</h3><p><strong>安装配置依赖项</strong></p>
<ol>
<li>sudo yum install curl policycoreutils openssh-server openssh-clients</li>
<li>sudo systemctl enable sshd</li>
<li>sudo systemctl start sshd</li>
<li>sudo yum install postfix</li>
<li>sudo systemctl enable postfix</li>
<li>sudo systemctl start postfix</li>
<li>sudo firewall-cmd –permanent –add-service=http</li>
<li>sudo systemctl reload firewalld</li>
</ol>
<p><strong>添加GitLab仓库,并安装到服务器上</strong></p>
<ol>
<li>curl -sS <a href="http://packages.gitlab.cc/install/gitlab-ce/script.rpm.sh" target="_blank" rel="noopener">http://packages.gitlab.cc/install/gitlab-ce/script.rpm.sh</a> | sudo bash</li>
<li>sudo yum install gitlab-ce</li>
</ol>
<h4 id="启动GitLab"><a href="#启动GitLab" class="headerlink" title="启动GitLab"></a>启动GitLab</h4><ol>
<li><p>sudo gitlab-ctl reconfigure</p>
<p>gitlab-ctl reconfigure  更新配置文件</p>
</li>
</ol>
<p>gitlab-ctl tail 查看日志</p>
<p>默认配置地址 /etc/gilab/</p>
<p>访问之后页面为502，跟踪日志为超时，需要配置</p>
<p>gitlab_rails[‘webhook_timeout’] = 90 </p>
<p>gitlab_rails[‘git_timeout’]=90</p>
<p>之后就可以了。</p>
<p>卸载gitlab</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">一、停止gitlab</span><br><span class="line">sudo gitlab-ctl stop</span><br><span class="line">二、卸载gitlab</span><br><span class="line">sudo rpm -e gitlab-ce</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/02/05/git/" data-id="cjnblvxwq0002povam8u7d8p8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/xiaojiang/">&laquo; Prev</a><a class="page-number" href="/xiaojiang/">1</a><span class="page-number current">2</span><a class="page-number" href="/xiaojiang/page/3/">3</a><a class="extend next" rel="next" href="/xiaojiang/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/xiaojiang/tags/spring源码/">spring源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/xiaojiang/tags/分销/">分销</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/xiaojiang/tags/spring源码/" style="font-size: 10px;">spring源码</a> <a href="/xiaojiang/tags/分销/" style="font-size: 10px;">分销</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/xiaojiang/2018/07/19/分销管理总览/">(no title)</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/05/02/操作技巧/">操作技巧</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/04/23/spring源码阅读/">spring源码阅读</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/04/20/tomcat/">tomcat</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/04/20/分销管理/">分销管理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 小江<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/xiaojiang/" class="mobile-nav-link">Home</a>
  
    <a href="/xiaojiang/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/xiaojiang/fancybox/jquery.fancybox.css">
  <script src="/xiaojiang/fancybox/jquery.fancybox.pack.js"></script>


<script src="/xiaojiang/js/script.js"></script>



  </div>
</body>
</html>