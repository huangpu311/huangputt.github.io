<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>小江的个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="小江的个人博客">
<meta property="og:url" content="https://huangpu311.github.io/xiaojiang/index.html">
<meta property="og:site_name" content="小江的个人博客">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小江的个人博客">
  
    <link rel="alternate" href="/xiaojiang/atom.xml" title="小江的个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/xiaojiang/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/xiaojiang/" id="logo">小江的个人博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/xiaojiang/">Home</a>
        
          <a class="main-nav-link" href="/xiaojiang/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/xiaojiang/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://huangpu311.github.io/xiaojiang"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-spring-boot" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/09/05/spring-boot/" class="article-date">
  <time datetime="2019-09-05T02:33:49.829Z" itemprop="datePublished">2019-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/09/05/spring-boot/" data-id="ck8h6wq5r0000ecva86s8zvtt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/02/27/正则表达式/" class="article-date">
  <time datetime="2019-02-27T06:01:43.000Z" itemprop="datePublished">2019-02-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2019/02/27/正则表达式/">正则表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/02/27/正则表达式/" data-id="ck8h6wq84000wecvas81vd4sq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-并发编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/02/22/并发编程/" class="article-date">
  <time datetime="2019-02-22T08:23:29.000Z" itemprop="datePublished">2019-02-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2019/02/22/并发编程/">并发编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="线程状态"><a href="#线程状态" class="headerlink" title="线程状态"></a>线程状态</h2><p>New,初始状态,线程还未运行的时候(Thead state for a thread which has not yet started)</p>
<p>READY 就绪状态</p>
<p>RUNNABLE（运行状态）</p>
<p>TERMINATED 终止状态,线程完全执行完成</p>
<p>BLOCKED 阻塞状态   synchronized </p>
<p>TIMED_WAITING ，线程等待状态,超时等待,sleep,wait lockSupport</p>
<p>WATING 等待状态</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span>  <span class="title">BlockedDemo</span> <span class="keyword">extends</span>  <span class="title">Thread</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">run</span> <span class="params">()</span></span>&#123;</span><br><span class="line">           <span class="keyword">synchronized</span> (BlockedDemo.class)&#123;</span><br><span class="line">               <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">                   <span class="keyword">try</span> &#123;</span><br><span class="line">                       TimeUnit.SECONDS.sleep(<span class="number">100</span>);</span><br><span class="line">                   &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                       e.printStackTrace();</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> BlockedDemo(),<span class="string">"blocked_0"</span>).start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> BlockedDemo(),<span class="string">"blocked_1"</span>).start();</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">"blocked_1"</span> #<span class="number">17</span> prio=<span class="number">5</span> os_prio=<span class="number">0</span> tid=<span class="number">0x000000001ae19800</span> nid=<span class="number">0x6318</span> waiting <span class="keyword">for</span> monitor entry [<span class="number">0x000000001bcbe000</span>]</span><br><span class="line">   java.lang.Thread.State: BLOCKED (on object monitor)</span><br><span class="line">        at com.xiaojiang.test.thread.ThreadStateDemo$BlockedDemo.run(ThreadStateDemo.java:<span class="number">49</span>)</span><br><span class="line">        - waiting to lock &lt;<span class="number">0x00000000d6331f58</span>&gt; (a java.lang.Class <span class="keyword">for</span> com.xiaojiang.test.thread.ThreadStateDemo$BlockedDemo)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:<span class="number">748</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">"blocked_0"</span> #<span class="number">15</span> prio=<span class="number">5</span> os_prio=<span class="number">0</span> tid=<span class="number">0x000000001ae18800</span> nid=<span class="number">0x5b80</span> waiting on condition [<span class="number">0x000000001bbbf000</span>]</span><br><span class="line">   java.lang.Thread.State: TIMED_WAITING (sleeping)</span><br><span class="line">        at java.lang.Thread.sleep(Native Method)</span><br><span class="line">        at java.lang.Thread.sleep(Thread.java:<span class="number">340</span>)</span><br><span class="line">        at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:<span class="number">386</span>)</span><br><span class="line">        at com.xiaojiang.test.thread.ThreadStateDemo$BlockedDemo.run(ThreadStateDemo.java:<span class="number">49</span>)</span><br><span class="line">        - locked &lt;<span class="number">0x00000000d6331f58</span>&gt; (a java.lang.Class <span class="keyword">for</span> com.xiaojiang.test.thread.ThreadStateDemo$BlockedDemo)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:<span class="number">748</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">          <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">              <span class="keyword">try</span> &#123;</span><br><span class="line">                  TimeUnit.SECONDS.sleep(<span class="number">100</span>);</span><br><span class="line">              &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                  e.printStackTrace();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;,<span class="string">"timewaiting"</span>).start();</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"timewaiting"</span> #<span class="number">12</span> prio=<span class="number">5</span> os_prio=<span class="number">0</span> tid=<span class="number">0x000000001acdf800</span> nid=<span class="number">0x4c44</span> waiting on condition [<span class="number">0x000000001babe000</span>]</span><br><span class="line">   java.lang.Thread.State: TIMED_WAITING (sleeping)</span><br><span class="line">        at java.lang.Thread.sleep(Native Method)</span><br><span class="line">        at java.lang.Thread.sleep(Thread.java:<span class="number">340</span>)</span><br><span class="line">        at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:<span class="number">386</span>)</span><br><span class="line">        at com.xiaojiang.test.thread.ThreadStateDemo.lambda$main$<span class="number">0</span>(ThreadStateDemo.java:<span class="number">16</span>)</span><br><span class="line">        at com.xiaojiang.test.thread.ThreadStateDemo$$Lambda$<span class="number">1</span>/<span class="number">1029991479.</span>run(Unknown Source)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:<span class="number">748</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">         <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">             <span class="keyword">synchronized</span> (ThreadStateDemo.class)&#123;</span><br><span class="line">                 <span class="keyword">try</span> &#123;</span><br><span class="line">                     ThreadStateDemo.class.wait();</span><br><span class="line">                 &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                     e.printStackTrace();</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;,<span class="string">"waiting"</span>).start();</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"waiting"</span> #<span class="number">13</span> prio=<span class="number">5</span> os_prio=<span class="number">0</span> tid=<span class="number">0x000000001a7f9000</span> nid=<span class="number">0x46d8</span> in Object.wait() [<span class="number">0x000000001b5ce000</span>]</span><br><span class="line">   java.lang.Thread.State: WAITING (on object monitor)</span><br><span class="line">        at java.lang.Object.wait(Native Method)</span><br><span class="line">        - waiting on &lt;<span class="number">0x00000000d6006018</span>&gt; (a java.lang.Class <span class="keyword">for</span> com.xiaojiang.test.thread.ThreadStateDemo)</span><br><span class="line">        at java.lang.Object.wait(Object.java:<span class="number">502</span>)</span><br><span class="line">        at com.xiaojiang.test.thread.ThreadStateDemo.lambda$main$<span class="number">1</span>(ThreadStateDemo.java:<span class="number">28</span>)</span><br><span class="line">        - locked &lt;<span class="number">0x00000000d6006018</span>&gt; (a java.lang.Class <span class="keyword">for</span> com.xiaojiang.test.thread.ThreadStateDemo)</span><br><span class="line">        at com.xiaojiang.test.thread.ThreadStateDemo$$Lambda$<span class="number">2</span>/<span class="number">787604730.</span>run(Unknown Source)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:<span class="number">748</span>)</span><br></pre></td></tr></table></figure>
<h2 id="线程中止"><a href="#线程中止" class="headerlink" title="线程中止"></a>线程中止</h2><p>stop不建议使用</p>
<p>优雅的关闭线程</p>
<p>interrupt </p>
<p>volatile </p>
<p>##学习地址</p>
<p><a href="https://blog.csdn.net/sinat_33087001/column/info/18048" target="_blank" rel="noopener">https://blog.csdn.net/sinat_33087001/column/info/18048</a></p>
<p><a href="https://blog.csdn.net/sinat_33087001/article/details/77621118" target="_blank" rel="noopener">https://blog.csdn.net/sinat_33087001/article/details/77621118</a></p>
<p><a href="https://blog.csdn.net/nalanmingdian/article/details/77800355" target="_blank" rel="noopener">https://blog.csdn.net/nalanmingdian/article/details/77800355</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/02/22/并发编程/" data-id="ck8h6wq9h0012ecvaj57r8tou" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mybatis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/01/24/mybatis/" class="article-date">
  <time datetime="2019-01-24T04:27:23.000Z" itemprop="datePublished">2019-01-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2019/01/24/mybatis/">mybatis</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/01/24/mybatis/" data-id="ck8h6wq73000cecva01i17lxd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-java面试题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/01/18/java面试题/" class="article-date">
  <time datetime="2019-01-18T13:24:03.000Z" itemprop="datePublished">2019-01-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2019/01/18/java面试题/">java面试题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>Thread 的run 和start 方法的区别</p>
<p> start :无需等待代码执行完毕直接执行下面的代码，此时线程处于就绪状态，并没有运行，一旦得到cpu时间片，才开始执行</p>
<p>run:线程要等到run方法执行完成之后才行，本质上还是一个线程</p>
</li>
<li><p>Nginx 配置文件</p>
<p><a href="http://www.cnblogs.com/xiaogangqq123/archive/2011/03/02/1969006.html" target="_blank" rel="noopener">http://www.cnblogs.com/xiaogangqq123/archive/2011/03/02/1969006.html</a></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行用户</span></span><br><span class="line"><span class="attribute">user</span> www-data</span><br><span class="line"><span class="comment"># 启动进程，通常设置成和cpu的数量相等</span></span><br><span class="line">worker_processes <span class="number">1</span>;</span><br><span class="line"><span class="comment"># 全局错误日志及pid文件</span></span><br><span class="line"><span class="attribute">error_log</span> /var/log/nginx/error.log;</span><br><span class="line"><span class="attribute">pid</span> /var/run/nginx.pid;</span><br><span class="line"><span class="comment"># 工作模式及连接上线</span></span><br><span class="line">events&#123;</span><br><span class="line">    <span class="comment"># epoll 是多路复用IO的一种方式</span></span><br><span class="line">    <span class="attribute">use</span> <span class="literal">epoll</span>;</span><br><span class="line">    <span class="comment"># 单个后台worker porcess 进程最大并发连接数</span></span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><a href="https://bbs.csdn.net/topics/391909962" target="_blank" rel="noopener">https://bbs.csdn.net/topics/391909962</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/01/18/java面试题/" data-id="ck8h6wq7n000lecvawfhd7x41" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-spring-batch" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/01/15/spring-batch/" class="article-date">
  <time datetime="2019-01-15T06:21:57.000Z" itemprop="datePublished">2019-01-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2019/01/15/spring-batch/">spring-batch</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="spring-batch-结构"><a href="#spring-batch-结构" class="headerlink" title="spring batch 结构"></a>spring batch 结构</h2><p>spring batch 运行的基本单位是一个job，一个job就做一件批处理的事情，一个job包含很多step，step就是每个job要执行的单个步骤</p>
<p>step里面会有tasklet，tasklet是一个任务单元，他是属于可以重复利用的东西，然后是chunk，chunk就是数据块，你需要定义多大数据量是一个chunk。</p>
<p>chunk里面就是不断循环一个流程，读数据，处理数据，然后写数据，spring batch  会不断的循环这个流程，直到批处理数据完成。</p>
<h2 id="文档翻译"><a href="#文档翻译" class="headerlink" title="文档翻译"></a>文档翻译</h2><h3 id="1、Spring-Batch-Introduction-spring-batch-介绍"><a href="#1、Spring-Batch-Introduction-spring-batch-介绍" class="headerlink" title="1、Spring  Batch Introduction (spring  batch 介绍)"></a>1、Spring  Batch Introduction (spring  batch 介绍)</h3><p>Many applications within the enterprise domain require bulk（容量） processing to perform(执行)  business operations in mission critical(关键的) environments.These business operations include:</p>
<p>许多企业应用需要执行重要的批量任务，这些任务包括：</p>
<p>Automated （自动的）,complex processiong of large volumes(体积、容量) of information that is most efficiently(高效的) processed（加工过的） without user interaction（互动）.</p>
<p>用户不需要操作，就可以高效的、自动的执行大量的数据</p>
<p>These operations typically(代表性的) include time-based event(such as month-end calculations,notices,or correspondence（通信）)</p>
<p>这些操作包括基于时间的事件（比如整月的计算、通知、通信）</p>
<p>Periodic(定期的) application of complex(复杂的) business rules processed repetitively （重复地）acrossvery large data sets (for example ,insurance(保险费) benefit（好处） determination(确定，决心) or rate adjustments)</p>
<p>应用定期的扫描重复的数据集合（比如，保险费的处理或者利率的调整）</p>
<p>Integration(整合) of information that is received from internal(本质) and external(表面的，外部的) systems that typically requires formatting,validation ,and processing in a transactional manner into the system of record .Batch processing is used to process billions of transactions（处理） every day for enterprises（企业）.</p>
<p>从系统内部和外部在事物中整合验证。批量程序每天为企业处理数十亿·的数据.</p>
<p>Spring batch  is a light weight ,comprehensive(综合的，广泛的) batch framework designed to enable the development of robust（强健的，健壮） batch applications vital（至关重要的） for the daily （日常的）operations of enterprise systems.Spring Batch builds upon(根据，在..之上) the characteristics（特性，特征） of the Spring Framework that people have come to expect (期望)(productivity,POJO-based development approach （方法）,and general ease of use),while making it easy for developers to access(使用) and leverage(杠杆） more advance enterprise services where necessary.Spring Batch is not a scheduling framework.There are many good enterprise schedulers (such as Quartz ,Tivoli,Control-M,etc) available in both the commercial（商业的） and open source spaces ,It is intended （故意的）to work in conjunction(结合) with a scheduler ,not replace as a scheduler.</p>
<p>spring batch 是 个轻量级的软件，批量设计被用于企业的日常操作系统中，spring batch  建立在大家都用的spring框架之上（多产的、基于POJO方法的、并且适合易用的），它让需要的企业使用起来更加容易，spring batch 不是一个调度框架，有很多好的调度器 可用（如…）他们当中有商业的也有开源的，他被有意的设计成和一个调度器结合使用，并不是替代一个调度器。</p>
<hr>
<p>Spring batch  provides(规定) reusable (可再用的)functions （功能）that are essential(基本的，必要的) in processing（对..处理） large volumes of records ,including logging/tracing ,transaction management,job processing statistics,job  restart,skip , and resource management.It also provides more advanced technical services and features that enable extremely . high-volume and high performance(性能) batch  jobs though optimization(优化) and partitioning techniques .Spring Batch can be used in both simple use cases (such as reading a file into a database or running a stored procedure ) as well as complex（复杂的） ,high volume use cases (such as moving high volumes of data between databases ,transforming（转换，改造） it ,and so on ).High-volume batch jobs can leverage the framework in a highly scalable(可扩展的) manner（方式） to process significant （重大的，有效的）volumes of informatiion.</p>
<p>spring batch  规定对处理大量的数据是可重复使用的，包括  记录/跟踪，事物管理，job统计处理，job重启，跳过和资源管理，</p>
<p>他当然规定了更高级的技术服务和特点，大容量和高性能批量处理通过优化和分区技术。</p>
<p>spring batch 可以使用在简单的用例（比如读一个文件到一个数据库或者存储数据），或者复杂的，大容量的用例（比如移动大量的数据，转换它等等）</p>
<p>大容量批处理可以是框架用以可扩展的方式处理重要的数据。</p>
<hr>
<h4 id="1-1-Background-（背景介绍）"><a href="#1-1-Background-（背景介绍）" class="headerlink" title="1.1 Background （背景介绍）"></a>1.1 Background （背景介绍）</h4><p> While open source softwore  projects and associated(交往) communities(社团) have focused greater attention(注意力，关心) on web-based and microservices-based architecture(架构) frameworks, there has been a notable(值得注意的) lack（缺乏，不足） of focus on reusable（可再用的） architecture frameworks  to accommodate(容纳，适应) Java-based batch processing needs ,despite（尽管） continued needs to handle such processing within enterprise IT environments.The lack of a standard ,reusable batch architecture has resulted in the proliferation(扩散) of many one-off,in-house solutions (解决方案) developed within client enterprise IT functions.</p>
<p>当开源软件和社区将注意力放在基于web和微服务的架构，值得注意的是可在用架构去适应基于java批量应用一直不足，尽管企业需要处理一些批量应用，没有标准，可用的批量架构一般都是一次性的，内部的接近方案。</p>
<hr>
<p>SpringSource(now Pivotal(关键的) ) and Accenture collaborated(合作) to change this.Accenture’s hands-on(亲身实践的) industry（产业） and technical experience(经验) in implementing(即时通讯) batch architectures,SpringSource’s  depth (深度)of technical experience ,and  Spring’s  proven（证明） programming model together made a natural and powerful(强大的) partnership(部分) to create high-quality(高质量),market-relevant （市场）software aimed(目的) at filling（填充） and important gap(分歧，间隙) in enterprise Java . Both companies worked with a number of clients who were solving(解决) similar (相似的)problems by developing Spring-based batch architecture solutions .This provided some useful additional(附件的、额外的) detail and real-life(现实) constraints(约束) that helped to ensure(保证) the solution can ben applied to the real-world problems posed by clients.</p>
<hr>
<p>Accenturn contributed(贡献) previously(以前) proprietary(专利的，所有权) batch processing architecture frameworks to the Spring Batch project ,along with committer（提交者） resources to drive support ,enhancements(增强的),and the existing feature set ,Accenture’s contribution was based upon(根据，在..之上) decades(数十年) of experience in building batch architectures with the last several(各自的) generation of platforms :COBOL/Mainframe ,C++ /Unix ,and now Java/anywhere</p>
<hr>
<p>The collaborative(合作的) effort(努力) between Accenture and SpringSource aimed(目的) to promote（促进） the standardization（标准化） of software processing approaches (处理，办法),frameworks ,and tools that can be consistently（一贯的） leveraged(杠杆) by enterprise users when creating batch applications . Companies and government agencies （经济公司）desiring（想要） to deliver(发表) standard ,proven（证明） solutions(解决方案) to their enterprise IT environments can benefit(有益的) from Spring Batch .</p>
<hr>
<h4 id="1-2-Usage-Scenarios-使用场景"><a href="#1-2-Usage-Scenarios-使用场景" class="headerlink" title="1.2 Usage Scenarios(使用场景)"></a>1.2 Usage Scenarios(使用场景)</h4><p>A typical batch program generally :</p>
<ul>
<li>Reads a large number of records from a database ,file or queue </li>
<li>Processes the data in some fasion (潮流)</li>
<li>Write  back data in a modified form </li>
</ul>
<p>Spring Batch automates(自动化的） this basic iteration（重复） ,providing the capability（性能） to process similar（相似的） transactions as a set ,typically in an offline（脱机的） environment without any user interaction(互动). Batch jobs are part of most IT project,and Spring Batch is the only open source framework that provides a robust （强健的）,enterprise-scale solution.</p>
<hr>
<p>Bussiness Scenarios (业务场景</p>
<ul>
<li>Commit batch process periodically(定期的)</li>
<li>Concurrent(并发的) batch processing :parallel（平行） processing of a job </li>
<li>Staged（分期的） ,enterprise message-driven processing </li>
<li>Massively(大量地) parallel batch processing </li>
<li>Manual(手工的) or scheduled restart after failure </li>
<li>Sequential(连续的) processing of dependent（依赖的） steps (with extensions toworkflow-driven batches )</li>
<li>Partial(局部的) processing:skip records (for example on rollback)</li>
<li>Whole-batch transaction,for  cases with a small batch size or exsting stored procedures/scripts</li>
</ul>
<p>Technical Objectives (技术目标)</p>
<ul>
<li>Batch developers use the Spring programming model: Concentrate(集中) on business logic(逻辑) and let the framework take care of infrastructure(基本建设).</li>
<li>Clear separation(分开) of concerns(关注) between the infrastructure ,the batch execution(执行) environment ,and the batch application.</li>
<li>Provide(规定) common ,core execution services as interfaces that all projects can implement </li>
<li>Provide simple and default implementations(实现) of the core execution interfaces that can be used  ‘out of the box’</li>
<li>Easy to configure ,customize(习惯),and extend services ,by leveraging(杠杆作用) the spring framework in all layers.</li>
<li>Provide a simple deployment model ,with the architecture(架构) JARs completely separate(分开) from the application ,built(建造) using Maven.</li>
</ul>
<hr>
<h4 id="1-3-Spring-Batch-Architecture（spring-batch-架构）"><a href="#1-3-Spring-Batch-Architecture（spring-batch-架构）" class="headerlink" title="1.3 Spring Batch Architecture（spring  batch 架构）"></a>1.3 Spring Batch Architecture（spring  batch 架构）</h4><p><img src="/xiaojiang/2019/01/15/spring-batch/../_posts\spring-batch\spring-batch-layers.png" alt="spring-batch-layers"></p>
<p>This layered architecture highlights(强调)  three major（主要的） high-level(高级的) components: Application ,Core and Infrastructure .The application contains all batch jobs and custom code written by developers using Spring Batch . The Batch Core contains the core runtime classes necessary to launch(发射，下水) and control a batch job .It includes implementations for <code>JobLauncher</code>,<code>Job</code> and <code>Step</code>. Both Application and Core are built on top of common infrastructure .This infrastructure contains common readers and writers and services (such as the <code>RetryTemplate</code>), which are used both by application deveplopers (readers and writers ,such as <code>ItemReader</code> and  <code>ItemWriter</code> ) and the core framework ifself (retry ,which its own library).</p>
<hr>
<h4 id="1-4General-Batch-Principles-and-Guidelines-一般批量原则和方针"><a href="#1-4General-Batch-Principles-and-Guidelines-一般批量原则和方针" class="headerlink" title="1.4General Batch Principles and Guidelines(一般批量原则和方针)"></a>1.4General Batch Principles and Guidelines(一般批量原则和方针)</h4><p>The following key principles,guidelines ,and general considerations(考虑) should be considered when building a batch solution（解决方案）.</p>
<ul>
<li><p>Remember that a batch architecture typically affects on-line architecture and vice(缺点) versa (反的) (反之亦然).Design with both architectures and environments in mind using common building blocks when possible.</p>
</li>
<li><p>Simplify as much as  possible and avoid(避免) building complex(复杂的) logical structures(业务方式) in single batch applications.</p>
</li>
<li><p>Keep the processing and storage of data physically close together (in other workds, keep your data where your processing occurs(重现，出现发生)).</p>
</li>
<li><p>Minimize system resource use,ecpecially I/O.Perform(执行) as many operations as possible in internal (内部的，本质的)memory .</p>
</li>
<li><p>Review application I/O (analyze(分解) SQL statements) to ensure(保证) that unnecessary physical I/O  is avoided(避免) .In particular(特别的) ,the following four common flaws(缺陷) need to be looke for:</p>
<blockquote>
<ul>
<li>Reading  data for every transaction when the data could be read once and cached or kept in the working storage .</li>
<li>Rereading data for a transaction where the data was read earlier in the same transation.</li>
<li>Causing unnecessary table or index scans.</li>
<li>Not specifying(说明,指定) key values in the WHERE clause of an SQL statement.</li>
</ul>
</blockquote>
</li>
<li><p>Do not do things twice in a batch run .For instance ,if you need data summarization(摘要) for reporting purposes(目的),you should (if possible) increment stored totals when data is being initially(最初，首先) processed,so your reporting application does not have to reprocess(再加工) the same data .</p>
</li>
<li><p>Allocate(分配)  enough memory at the beginning of a batch application to avoid(避免)  time-consuming（耗时） reallocation(再分配) during the process.</p>
</li>
<li><p>Always assume(假定) the worst(最差的) with regard（注意） to data integrity(完整) ,Insert adequate（充足的） checks and record validation to maintain（维持） data integrity.</p>
</li>
<li><p>Implement checksums（校验码） for internal(本质) validation where possible .For example ,flat(平的，单调的) files should have a trailer record （尾部记录） telling the total of records in the file and an aggregate（集合） of the key fileds.</p>
</li>
<li><p>Plan and execute stress(压力) tests as early as possible in a production-like environment with realistic（现实的，逼真的） data volumes.</p>
</li>
<li><p>In large batch systems ,backups can ben chanllenging (挑战的),especially(特别是) if the system is running concurrent with on-line a 24-7 basis .Database backups are typically well taken care of in the on-line design ,but file backups should be considered to be just as important.If the system depends on flat files,file backup procedures should not only be in place and documented but be regularly（定期的，有规律的） tested as well.</p>
</li>
</ul>
<h4 id="1-5-Batch-Processing-Strategies-策略"><a href="#1-5-Batch-Processing-Strategies-策略" class="headerlink" title="1.5 Batch Processing Strategies(策略)"></a>1.5 Batch Processing Strategies(策略)</h4><p> To help design and implement batch systems ,basic batch application building blocks and patterns should be provided to the designers and programmers in the form of sample structure(建造，组织) chats and code shells .When starting to design a batch job,the business logic should be decomposed(已分解的) into a series(系列) of steps that can be implemented using the folowing standard building blocks:</p>
<ul>
<li>Conversion (转换)Applications:For each type of file supplied(提供) by or generated to  an external system ,a conversion application must be created to convert the transaction records supplied into a standard format required for processing.This type of batch application can partly or entirely（完全地） consist(在于，由..组成) of translation utility (实用)modules (see Basic Batch Services)</li>
<li>Validation Applications: Validation applications ensure that all input/output records are correct(改正，正确的) and consistent(一致的) .Validation is typically based on file headers and trailers,checksums(总和检查) and validation algorithms(算法) ,and record level cross-checks.</li>
<li>Extract Applications:An application that reads a set of records from a database or input file ,selects records based on predefined rules,and writes the records to an output file.</li>
<li>Extract/Update Application :An application that reads records from a database or an input file and makes changes to a database or an output file driven by the data found in each input record.</li>
<li>Processing and Updating Applications:An application that performs(执行) processing on input transactions from an extract or a valication application.The processing usually involves(包含) reading a database to obtain(获得) data required for processing ,potentially(可能的) updating the database and creating records for output processing.</li>
<li>Output/Format Applications:Applications that read an input file,restructure(重构) data from this record according to a standard format,and produce(生产，引起) an output file for printing or transmission to another program or system.</li>
</ul>
<p>Additionally（另外） ,a basic application shell should be provided for business logic that connot be built using the previously(先前) mentioned(提及) building blocks.</p>
<hr>
<p>In addition to the main building blocks ,each application many use one or more of standard utility steps ,such as:</p>
<ul>
<li>Sort: A program that reads an input file and produces an output file where records have been re-sequenced according to a sort key field in the records.Sorts are usually performed by standard system utilities.</li>
<li>Split: A program that reads a single input file and writes each record  to one of several (几个的，各自的)output files based on a field value.Splits can be tailored(定做的) or performed .</li>
<li>Merge: A program that reads records from multiple input files and produces on output file with combined(联合) data from the input files.Merges can be tailored or performed by parameter-driven standard system utilties.</li>
</ul>
<hr>
<p>Batch application can additionally be categorized by heir input source:</p>
<ul>
<li>Database-driven applications are driven by rows or values retrieved(恢复) from the database.</li>
<li>File-driven applications are driven by records or values retrieved from a file.</li>
<li>Message-driven applications are driven by messages retrieved from a message queue.</li>
</ul>
<p>The foundation of any batch system is the processing strategy .Factors affecting the selection of the strategy include:estimated batch system volume ,concurrency with on-line systems or with other batch sytems,available batch windows .(Note that ,with more enterprises wanting to be up and running 24*7,clear batch windows are disappering).</p>
<p>Typical processing options for batch are (in increasing order of implementation complexity):</p>
<ul>
<li>Normal processing during a batch window in off-lne mode</li>
<li>Concurrent batch or on-line processing </li>
<li>Parallel processing of many different batch runs or jobs at the sam time .</li>
<li>Parttioning (processing of many instances of the same job at the same time).</li>
<li>a combination of the preceding options.</li>
</ul>
<p>Some or all of these options may be supported by a commercial scheduler.</p>
<p>The following section discusses these processing options in more detail.It is important to notice that, as a rule of thumb ,the commit and locking strategy adopted by batch processed depends on the type processing performed and that the on-line locking strategy should also use the same principles.Therefore ,the batch architecture cannot be simply an afterthought when designing an overrall architecture.</p>
<p>The locking strategy can be use only normal database licks or to implement an additional custom locking service in the archtecture.The locking service would track database locking (for example ,by storing the necessary information in a dedicated db-table) and give or deny permissions to the application programs requesting a db operation.Retry logic could also be implemented by this architecture to avoid aborting a batch job in case of lock situation.</p>
<ol>
<li><p>Normal processing in a batch window For simple batch processes running in a separate batch window where the data being updated is not required by on-line users or other batch processes ,concurrency is not an issue and a single commit can be done at the edn of the batch run.</p>
<p>In most cases ,a more robust approach is more appropriate .Keep in mind that batch systems hav a tendecy to grow as time goes by ,both in terms of complexity and the data volumes they handle.if no locking strategy is in place and the system still relies on wihtd the simples batch systems,consider the need for commit logic for restart reovery options as well as the information concerning the more comple cases described later in this section.</p>
<p>2.Concurrent batch or on-line processing Batch applications processing data theat can be simultaneously updated by on-line users should not lock any data(either in the database or in files) which cold be required by on-lne users for more than a few seconds .Also ,updates should be committed to the database at the end of erver few transactions .This  minimizes the of data that is unavaiable to other processes and the elapsed time the data is unavaliable.</p>
</li>
</ol>
<p>Another option to minimize physical locking is to have logical row-level loakcing implemented with either an Optimistic  Locking Pattern or a Pessimistic Locking Pattern.</p>
<ul>
<li>Optimistic locking assumes a low likelihood of record contention.It typically means inserting a timestamp column in each database tablee used concurrently by both batch and on-line processing .When an application fetches a row for processing ,it also fetches the timestamp.As the application then tries to update the processed row ,the update uses the original timestamp in the WHERE clause .If the timestamp matches,the data and the timestamp are updated .If the timestamp does not match ,this indicates that another application has updated them same row between the fetch and the update attempt ,Thereform,the update connot be performed.</li>
<li>Pessimistic locking is any locking strategy theat assumes there is a hgh likelihood of record contention and therefore either a physical or logical lock needs a dedicated lock-column in the database table .When an application retrieves the row for update,it set a flag in the lock column.With the flag in place ,other applications attempting to retrieved by toher applications.Please note that the integrity of data must be maintained also between the intial fetch and the inital fetch and the setting of the flag ,for example by using db locks (such as select for update).Note also that this method suffers from the same downside as physical locking except that it is somewhat easier to manage building a time-out mechanism that gets the lock released if the user goes to lunch while the record is locked.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/01/15/spring-batch/" data-id="ck8h6wq79000gecvabyfb724s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-用户粘合度" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/01/13/用户粘合度/" class="article-date">
  <time datetime="2019-01-13T05:24:22.000Z" itemprop="datePublished">2019-01-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2019/01/13/用户粘合度/">用户粘合度</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>  在互联网的大背景下，产品的设计都是以用户为导向，很多产品的设计都提出了用户的粘合性，但是对于怎么验证用户的粘合性以及即将没有用户粘合性的数据并没有统一的标准。</p>
<h2 id="相关资料"><a href="#相关资料" class="headerlink" title="相关资料"></a>相关资料</h2><p>DAU、WAU、MAU 相关概念的提出，即按照日，周，月根据用户的访问量来计算用户的粘合性。</p>
<p>除了这个维度之外，我认为应该从产品、网站整理、以及个人等方面的因素来对网站进行公证的评论。</p>
<p><a href="https://blog.csdn.net/caodongfang126/article/details/78282086" target="_blank" rel="noopener">https://blog.csdn.net/caodongfang126/article/details/78282086</a></p>
<h2 id="功能展望"><a href="#功能展望" class="headerlink" title="功能展望"></a>功能展望</h2><ol>
<li>根据业务不同，统计的层面即不同， 可以根据业务分配日、周、月相关数据</li>
<li>根据产品不同  设计不同用户产品的粘合度</li>
<li>根据用户角度设计用户粘合度曲线，以及用户粘合度预警机制</li>
<li>根据产品的访问量，设计产品的粘合度预警机制</li>
<li>根据网站总量访问，对整个网站进行粘合度预警机制</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/01/13/用户粘合度/" data-id="ck8h6wq86000yecvai83aded1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2019/01/02/python/" class="article-date">
  <time datetime="2019-01-02T02:09:30.000Z" itemprop="datePublished">2019-01-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2019/01/02/python/">python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>下载地址</p>
<p><a href="https://www.python.org/downloads/release/python-372/" target="_blank" rel="noopener">https://www.python.org/downloads/release/python-372/</a></p>
<h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><h4 id="编码格式"><a href="#编码格式" class="headerlink" title="编码格式"></a>编码格式</h4><p>python中默认的编码格式是ASCII格式，在没修改编码格式时无法正确打印汉子，所以在读取中文时会报错，解决办法为在文件开头加上# -<em>- coding: UTF-8 -</em>- 或者 #coding=utf-8 就行了 即可</p>
<h4 id="行和缩进"><a href="#行和缩进" class="headerlink" title="行和缩进"></a>行和缩进</h4><p>Python 的代码块不使用{}来控制，python用缩进来写模块。</p>
<p>缩进的空白数量是可变的，但是所有代码块必须包含相同的缩进空白数量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">True</span> </span><br><span class="line">	<span class="keyword">print</span> <span class="string">"true"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="keyword">print</span> <span class="string">"false"</span></span><br></pre></td></tr></table></figure>
<h4 id="多行语句"><a href="#多行语句" class="headerlink" title="多行语句"></a>多行语句</h4><p>python 可以使用写钢笔 （\）将一行的语句分为多行显示</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">total = one + \</span><br><span class="line">	    two + \</span><br><span class="line">        three</span><br></pre></td></tr></table></figure>
<p>语句中包换[] ,{} , () 就不需要使用多行连接符</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">days = [<span class="string">'monday'</span>,<span class="string">'tuesday'</span>,<span class="string">'wednesday'</span></span><br><span class="line">       <span class="string">'thursdays'</span>,<span class="string">'friday'</span>]</span><br></pre></td></tr></table></figure>
<h4 id="python-引号"><a href="#python-引号" class="headerlink" title="python 引号"></a>python 引号</h4><p>单行注释使用# 开头</p>
<p>多行注释使用三个单引号或者三个双引号</p>
<h4 id="等待用户输入"><a href="#等待用户输入" class="headerlink" title="等待用户输入"></a>等待用户输入</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">raw_input(<span class="string">"按下enter键退出，其他任意键显示... \n"</span>)</span><br></pre></td></tr></table></figure>
<h4 id="同一行显示多条语句"><a href="#同一行显示多条语句" class="headerlink" title="同一行显示多条语句"></a>同一行显示多条语句</h4><p>使用分号</p>
<h4 id="print-输出"><a href="#print-输出" class="headerlink" title="print 输出"></a>print 输出</h4><p>print 输出默认是换行的，如果要实现不换行需要在变量末尾加上逗号</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="string">'a'</span></span><br><span class="line">y=<span class="string">'b'</span></span><br><span class="line"><span class="comment">#换行输出</span></span><br><span class="line"><span class="keyword">print</span> x</span><br><span class="line"><span class="keyword">print</span> y</span><br><span class="line"><span class="comment">#不换行输出</span></span><br><span class="line"><span class="keyword">print</span> x,</span><br><span class="line"><span class="keyword">print</span> y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不换行输出</span></span><br><span class="line"><span class="keyword">print</span> x,y</span><br></pre></td></tr></table></figure>
<h4 id="多个语句构成代码组"><a href="#多个语句构成代码组" class="headerlink" title="多个语句构成代码组"></a>多个语句构成代码组</h4><p>缩进相同的一组语句构成一个代码块，我们称之为代码组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> expression ：</span><br><span class="line">	suite</span><br><span class="line"><span class="keyword">elif</span> expression</span><br><span class="line">	suite</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	suite</span><br></pre></td></tr></table></figure>
<h4 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h4><p>python -h</p>
<h2 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h2><h4 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h4><p>变量用等号赋值，python允许同时为多个变量赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = b =c =<span class="number">1</span>;</span><br><span class="line">a,b,c =<span class="number">1</span>,<span class="number">2</span>,<span class="string">"john"</span></span><br></pre></td></tr></table></figure>
<h4 id="标准数据类型"><a href="#标准数据类型" class="headerlink" title="标准数据类型"></a>标准数据类型</h4><p>python有五个标准的数据类型</p>
<ul>
<li>Number (数字)</li>
<li>String （字符串）</li>
<li>List （列表）</li>
<li>Tuple (元组)</li>
<li>Dictionary (字典)</li>
</ul>
<h5 id="python数字"><a href="#python数字" class="headerlink" title="python数字"></a>python数字</h5><p>python支持 四中不同的数字类型，分别为int(有符号整型)，long(长整型)，float（浮点型）,complex（复数）</p>
<h5 id="python字符串"><a href="#python字符串" class="headerlink" title="python字符串"></a>python字符串</h5><p>字符串是由数字、字母、下划线组成的一串字符.</p>
<p>python的字符串列表有2种取值顺序：</p>
<ul>
<li>从左到右默认是从0开始的，最大范围是字符串长度少1</li>
<li>从右到左默认是-1开始的，最大范围是字符串开头</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 取bcde，取值为[投下标:尾下标]</span></span><br><span class="line">s =<span class="string">'abcdef'</span>;</span><br><span class="line">s[<span class="number">1</span>:<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">str = <span class="string">'hello world!'</span></span><br><span class="line"><span class="keyword">print</span> str <span class="comment"># 输出完整字符串</span></span><br><span class="line"><span class="keyword">print</span> str[<span class="number">0</span>] <span class="comment"># 输出字符串中的第一个字符串</span></span><br><span class="line"><span class="keyword">print</span> str[<span class="number">2</span>:<span class="number">5</span>] <span class="comment"># 输出字符串中第三个到第五个之间的字符串</span></span><br><span class="line"><span class="keyword">print</span> str[<span class="number">2</span>:] <span class="comment">#输出第三个字符串开始的字符串</span></span><br><span class="line"><span class="keyword">print</span> str * <span class="number">2</span> <span class="comment">#输出字符串两次</span></span><br><span class="line"><span class="keyword">print</span> str +<span class="string">"TEST"</span> <span class="comment">#输出连接的字符串</span></span><br></pre></td></tr></table></figure>
<h5 id="python列表"><a href="#python列表" class="headerlink" title="python列表"></a>python列表</h5><p>列表用[]标示，是python最通用的符合数据类型。</p>
<p>加号是列表连接运算符，星号是重复操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">list = [<span class="string">'runoob'</span>,<span class="number">789</span>,<span class="number">2.23</span>,<span class="string">'john'</span>,<span class="number">70.2</span>]</span><br><span class="line">tinylist =[<span class="number">123</span>,<span class="string">'john'</span>]</span><br><span class="line"><span class="keyword">print</span> list <span class="comment"># 输出完整列表</span></span><br><span class="line"><span class="keyword">print</span> list[<span class="number">0</span>] <span class="comment"># 输出列表的第一个元素</span></span><br><span class="line"><span class="keyword">print</span> list[<span class="number">1</span>:<span class="number">3</span>]<span class="comment">#输出第二个到第三个元素</span></span><br><span class="line"><span class="keyword">print</span> list[<span class="number">2</span>:] <span class="comment">#输出第三个开始至列表末尾的所有元素</span></span><br><span class="line"><span class="keyword">print</span> tinylist * <span class="number">2</span> <span class="comment"># 输出列表2次</span></span><br><span class="line"><span class="keyword">print</span> list + tinylist <span class="comment">#打印组合的列表</span></span><br></pre></td></tr></table></figure>
<h5 id="python元组"><a href="#python元组" class="headerlink" title="python元组"></a>python元组</h5><p>元组是另一个数据类型，类似于list，元组用(),标示，内部用逗号隔开，但是元组不能二次赋值，相当于只读列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tuple = (<span class="string">'runoob'</span>,<span class="number">786</span>,<span class="number">2.23</span>,<span class="string">'john'</span>,<span class="number">70.2</span>)</span><br><span class="line">tinytuple = (<span class="number">123</span>,<span class="string">'john'</span>)</span><br><span class="line"><span class="keyword">print</span> tuple <span class="comment"># 输出完整元组</span></span><br><span class="line"><span class="keyword">print</span> tuple[<span class="number">0</span>] <span class="comment"># 输出元组的第一个元素</span></span><br><span class="line"><span class="keyword">print</span> tuple[<span class="number">1</span>:<span class="number">3</span>] <span class="comment">#输出第二个至第三个的元素</span></span><br><span class="line"><span class="keyword">print</span> tuple[<span class="number">2</span>:] <span class="comment">#输出从第三个开始至列表末尾的所有元素</span></span><br><span class="line"><span class="keyword">print</span> tinytuple* <span class="number">2</span> <span class="comment">#输出元组两次</span></span><br><span class="line">pring tuple + tinytuple <span class="comment"># 打印组合的元组</span></span><br></pre></td></tr></table></figure>
<h5 id="python-字典"><a href="#python-字典" class="headerlink" title="python 字典"></a>python 字典</h5><p>列表是有序的对象集合，字典是无需的对象集合，两者之间的区别在于：字典当中的元素通过键来存取的，而不是通过偏移存取的</p>
<p>字典用{}标示，字典由索引key，和它对应的值value组成。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dict = &#123;&#125;</span><br><span class="line">dict [<span class="string">'one'</span>] =<span class="string">"thiw is one"</span>;</span><br><span class="line">dict [<span class="number">2</span>] = <span class="string">"this is two"</span>;</span><br><span class="line">tinydict =&#123;<span class="string">'name'</span>:<span class="string">'john'</span>,<span class="string">'code'</span>:<span class="number">6374</span>,<span class="string">'dept'</span>:<span class="string">'sales'</span>&#125;</span><br><span class="line"><span class="keyword">print</span> dict[<span class="string">'one'</span>] <span class="comment"># 输出键为one的值</span></span><br><span class="line"><span class="keyword">print</span> dict[<span class="number">2</span>] <span class="comment"># 输出键为2的值</span></span><br><span class="line"><span class="keyword">print</span>  tinydict <span class="comment"># 输出完整的字典</span></span><br><span class="line"><span class="keyword">print</span> tinydict.keys()<span class="comment"># 输出所有的键</span></span><br><span class="line"><span class="keyword">print</span> tinydict.values()<span class="comment"># 输出所有的值</span></span><br></pre></td></tr></table></figure>
<h4 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2019/01/02/python/" data-id="ck8h6wq7d000iecvayxwedvrr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/xiaojiang/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-分销管理总览" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/07/19/分销管理总览/" class="article-date">
  <time datetime="2018-07-19T02:37:07.460Z" itemprop="datePublished">2018-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##分销管理总览</p>
<p>​    随着社会分工的越来越细，软件的分工也越来越细，于是出现了微服务的模式，微服务模式大大的降低了成本，每一个模块都是一个服务，想用的时候就用，不想用的时候就拿掉，在此基础上我做的分销系统，就是基于这种方式，即用则拿来，不用则拿走。<br>    在许多开发的软件中，尤其是在中国，重复造轮子的事情比比皆是，这就造成了开发成本的上升，并且导致整体开发水平偏低，如果针对任何一种业务场景开发成一种通用的、可配置的方式，这样既可以减少开发成本，又可以提高开发效率。<br>    <a href="https://gitee.com/codingdb/distribution_management" title="小江/分销管理" target="_blank" rel="noopener">小江/分销管理</a>的出现就是为了解决分销模块的问题，它将分销做成一条龙服务，即会员账户、分润设置，等级、统计报表等关于分销的一切进行汇总处理，我们要用它只需要2步，第一步是将项目运行起来，第二步是调用接口，然后就可以在分销系统中处理我们分销模块的任务了。<br>目前分销管理支持一下模块：<br>1、会员新增<br>  通过新增的会员id和 邀请会员id即可新增会员，并且组成关系图，并且可以设置会员发展的等级。<br> 2、会员升级<br>   即会员向上升级，以及计算升级的分润<br> 3、代理商后台系统<br>   每个代理商都可以获得一个后台，可以看到自己下面的会员和分润，并且可以新增下级代理商。<br> 4、分润设置<br>   即每一笔交易或者升级上级的或者代理商能够获得多少分润。<br> 5、结算费率<br>   即每笔结算收取的费率。<br> 6、会员交易<br>    即会员交易以及相关平台商和代理商获得的分润。<br>7、统计报表<br>   即统计每一个账户在各种环境下的走势，以及变换趋势图<br>8、系统秘钥<br>  即每个下级系统调用此系统需要的秘钥。<br>  系统后期将增加水平分润和垂直分润的概念，如果想知道更多，请看下回分解。<br>  系统源码，请看<a href="https://gitee.com/codingdb/distribution_management" target="_blank" rel="noopener">https://gitee.com/codingdb/distribution_management</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/07/19/分销管理总览/" data-id="ck8h6wq890010ecvagz46h0gw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="windows-操作技巧" class="article article-type-windows" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/05/02/操作技巧/" class="article-date">
  <time datetime="2018-05-02T07:16:22.000Z" itemprop="datePublished">2018-05-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xiaojiang/2018/05/02/操作技巧/">操作技巧</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/05/02/操作技巧/" data-id="ck8h6wq81000uecva1g6uhq7g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/xiaojiang/page/2/">2</a><a class="page-number" href="/xiaojiang/page/3/">3</a><a class="page-number" href="/xiaojiang/page/4/">4</a><a class="extend next" rel="next" href="/xiaojiang/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/xiaojiang/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/xiaojiang/tags/spring源码/">spring源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/xiaojiang/tags/分销/">分销</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/xiaojiang/tags/python/" style="font-size: 10px;">python</a> <a href="/xiaojiang/tags/spring源码/" style="font-size: 10px;">spring源码</a> <a href="/xiaojiang/tags/分销/" style="font-size: 10px;">分销</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/xiaojiang/2019/09/05/spring-boot/">(no title)</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2019/02/27/正则表达式/">正则表达式</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2019/02/22/并发编程/">并发编程</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2019/01/24/mybatis/">mybatis</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2019/01/18/java面试题/">java面试题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 小江<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/xiaojiang/" class="mobile-nav-link">Home</a>
  
    <a href="/xiaojiang/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/xiaojiang/fancybox/jquery.fancybox.css">
  <script src="/xiaojiang/fancybox/jquery.fancybox.pack.js"></script>


<script src="/xiaojiang/js/script.js"></script>



  </div>
</body>
</html>