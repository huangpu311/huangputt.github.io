<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>git | 小江的个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="git http方式保存 密码clone下来后，在.git/config 里面添加[credential]    helper = store git基础知识git 优势本地存储，速度快 分布式存储，不完全依赖中央仓库 文件的三种状态 已提交（committed）、已修改（modified）和已暂存（staged）、 已跟踪的(tracked) 已提交表示数据已经安全的保存在本地数据库中。  已修">
<meta property="og:type" content="article">
<meta property="og:title" content="git">
<meta property="og:url" content="https://huangpu311.github.io/xiaojiang/2018/02/05/git/index.html">
<meta property="og:site_name" content="小江的个人博客">
<meta property="og:description" content="git http方式保存 密码clone下来后，在.git/config 里面添加[credential]    helper = store git基础知识git 优势本地存储，速度快 分布式存储，不完全依赖中央仓库 文件的三种状态 已提交（committed）、已修改（modified）和已暂存（staged）、 已跟踪的(tracked) 已提交表示数据已经安全的保存在本地数据库中。  已修">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-07-16T02:45:20.146Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git">
<meta name="twitter:description" content="git http方式保存 密码clone下来后，在.git/config 里面添加[credential]    helper = store git基础知识git 优势本地存储，速度快 分布式存储，不完全依赖中央仓库 文件的三种状态 已提交（committed）、已修改（modified）和已暂存（staged）、 已跟踪的(tracked) 已提交表示数据已经安全的保存在本地数据库中。  已修">
  
    <link rel="alternate" href="/xiaojiang/atom.xml" title="小江的个人博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/xiaojiang/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/xiaojiang/" id="logo">小江的个人博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/xiaojiang/">Home</a>
        
          <a class="main-nav-link" href="/xiaojiang/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/xiaojiang/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://huangpu311.github.io/xiaojiang"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-git" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/xiaojiang/2018/02/05/git/" class="article-date">
  <time datetime="2018-02-05T02:17:19.000Z" itemprop="datePublished">2018-02-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      git
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="git-http方式保存-密码"><a href="#git-http方式保存-密码" class="headerlink" title="git http方式保存 密码"></a>git http方式保存 密码</h3><p>clone下来后，在.git/config 里面添加<br>[credential]<br>    helper = store</p>
<h3 id="git基础知识"><a href="#git基础知识" class="headerlink" title="git基础知识"></a>git基础知识</h3><h5 id="git-优势"><a href="#git-优势" class="headerlink" title="git 优势"></a>git 优势</h5><p>本地存储，速度快</p>
<p>分布式存储，不完全依赖中央仓库</p>
<h5 id="文件的三种状态"><a href="#文件的三种状态" class="headerlink" title="文件的三种状态"></a>文件的三种状态</h5><p> 已提交（committed）、已修改（modified）和已暂存（staged）、</p>
<p>已跟踪的(tracked)</p>
<p>已提交表示数据已经安全的保存在本地数据库中。 </p>
<p>已修改表示修改了文件，但还没保存到数据库中。</p>
<p> 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。</p>
<h5 id="git的三个工作区域"><a href="#git的三个工作区域" class="headerlink" title="git的三个工作区域"></a>git的三个工作区域</h5><h6 id="Git-仓库"><a href="#Git-仓库" class="headerlink" title="Git 仓库"></a>Git 仓库</h6><p>git用来保存元数据和对象数据库的地方，</p>
<h6 id="工作目录"><a href="#工作目录" class="headerlink" title="工作目录"></a>工作目录</h6><p>对项目的某个版本独立提取出来的内容</p>
<h6 id="暂存区域"><a href="#暂存区域" class="headerlink" title="暂存区域"></a>暂存区域</h6><p>暂存区域是一个文件，保存了下次将要提交的文件列表的信息，也被称作”索引”</p>
<p>基本的git工作流程如下：</p>
<p>1、在工作目录下修改文件</p>
<p>2、暂存文件，将文件的快照放到暂存区域</p>
<p>3、提交更新，找到暂存区域的文件，将快照永久性的存储到git仓库目录</p>
<p>如果git保存着特定版本的文件，就是已提交状态</p>
<p>如果修改了已放到暂存区域，就是已暂存状态</p>
<p>如果修改了，还没有放到暂存区域就是已修改状态</p>
<h5 id="git命令"><a href="#git命令" class="headerlink" title="git命令"></a>git命令</h5><p>设置你的用户名称与邮件地址</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.name <span class="string">"name"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.email xxx@qq.com</span></span><br></pre></td></tr></table></figure>
<p>查看设置的用户名和邮件地址</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>
<p>如果加了–global，那么在你电脑上默认都是用这个信息，如果有新的项目需要更换用户名和邮箱，那么将–global去掉再运行一遍即可。</p>
<p>git帮助手册</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">help</span> &lt;verb&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git &lt;verb&gt; --<span class="built_in">help</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> man git-&lt;verb&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果需要获取config的帮助手册，输入命令 git config –help即可。</p>
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">git init</td>
<td style="text-align:center">git 初始化</td>
</tr>
<tr>
<td style="text-align:center">git clone url  文件夹名称</td>
<td style="text-align:center">git 克隆代码</td>
</tr>
<tr>
<td style="text-align:center">git add .</td>
<td style="text-align:center">git 添加到跟踪状态</td>
</tr>
<tr>
<td style="text-align:center">git status</td>
<td style="text-align:center">查看文件状态</td>
</tr>
<tr>
<td style="text-align:center">git status -s</td>
<td style="text-align:center">以简短的方式查看文件状态</td>
</tr>
<tr>
<td style="text-align:center">git diff</td>
<td style="text-align:center">尚未暂存的文件更新了哪些地方</td>
</tr>
<tr>
<td style="text-align:center">git diff –cached\staged</td>
<td style="text-align:center">已暂存将要下次提交的内容更新的地方</td>
</tr>
<tr>
<td style="text-align:center">git commit -m xxx</td>
<td style="text-align:center">已暂存到已修改状态</td>
</tr>
<tr>
<td style="text-align:center">git  commit -a</td>
<td style="text-align:center">跳过使用暂存区域</td>
</tr>
<tr>
<td style="text-align:center">git  rm</td>
<td style="text-align:center">移除暂存区的文件</td>
</tr>
<tr>
<td style="text-align:center">git log</td>
<td style="text-align:center">查看提交历史</td>
</tr>
<tr>
<td style="text-align:center">git log -p -2</td>
<td style="text-align:center">仅显示最近2次提交</td>
</tr>
<tr>
<td style="text-align:center">git log –stat</td>
<td style="text-align:center">查看每次提交的简略信息</td>
</tr>
<tr>
<td style="text-align:center">git log –pretty=oneline</td>
<td style="text-align:center">一行显示日志</td>
</tr>
<tr>
<td style="text-align:center">git log –pretty=format:”%h - %an, %ar : %s”</td>
<td style="text-align:center">按照格式输出</td>
</tr>
<tr>
<td style="text-align:center">git log –pretty=format:”%h %s” –graph</td>
<td style="text-align:center">图形输出</td>
</tr>
<tr>
<td style="text-align:center">git commit –amend</td>
<td style="text-align:center">将暂存区文件提交，上一次的 快照会保持不变</td>
</tr>
<tr>
<td style="text-align:center">git reset  HEAD  文件</td>
<td style="text-align:center">取消暂存</td>
</tr>
<tr>
<td style="text-align:center">git checkout –文件名</td>
<td style="text-align:center">撤销暂存</td>
</tr>
<tr>
<td style="text-align:center">git tag</td>
<td style="text-align:center">查看标签</td>
</tr>
<tr>
<td style="text-align:center">git show</td>
<td style="text-align:center">查看日志</td>
</tr>
<tr>
<td style="text-align:center">git push origin v1.5</td>
<td style="text-align:center">推送标签</td>
</tr>
<tr>
<td style="text-align:center">git push origin –tags</td>
<td style="text-align:center">推送多个标签</td>
</tr>
<tr>
<td style="text-align:center">git checkout -b branchname  tagname</td>
<td style="text-align:center">检出标签</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>git log 常用命令</p>
<table>
<thead>
<tr>
<th><code>-p</code></th>
<th>按补丁格式显示每个更新之间的差异。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--stat</code></td>
<td>显示每次更新的文件修改统计信息。</td>
</tr>
<tr>
<td><code>--shortstat</code></td>
<td>只显示 –stat 中最后的行数修改添加移除统计。</td>
</tr>
<tr>
<td><code>--name-only</code></td>
<td>仅在提交信息后显示已修改的文件清单。</td>
</tr>
<tr>
<td><code>--name-status</code></td>
<td>显示新增、修改、删除的文件清单。</td>
</tr>
<tr>
<td><code>--abbrev-commit</code></td>
<td>仅显示 SHA-1 的前几个字符，而非所有的 40 个字符。</td>
</tr>
<tr>
<td><code>--relative-date</code></td>
<td>使用较短的相对时间显示（比如，“2 weeks ago”）。</td>
</tr>
<tr>
<td><code>--graph</code></td>
<td>显示 ASCII 图形表示的分支合并历史。</td>
</tr>
<tr>
<td><code>--pretty</code></td>
<td>使用其他格式显示历史提交信息。可用的选项包括 oneline，short，full，fuller 和 format（后跟指定格式）。</td>
</tr>
</tbody>
</table>
<p> 缺少记录</p>
<p>远程仓库 记录</p>
<p>git 别名</p>
<p>标签：</p>
<p> 附注标签：git tag -a v1.1 -m ‘附注’</p>
<p>轻量标签： git tag v1.1</p>
<p> 忽略文件</p>
<p> .gitignore  </p>
<p>git  查看状态   </p>
<h3 id="gitlab搭建"><a href="#gitlab搭建" class="headerlink" title="gitlab搭建"></a>gitlab搭建</h3><p><strong>安装配置依赖项</strong></p>
<ol>
<li>sudo yum install curl policycoreutils openssh-server openssh-clients</li>
<li>sudo systemctl enable sshd</li>
<li>sudo systemctl start sshd</li>
<li>sudo yum install postfix</li>
<li>sudo systemctl enable postfix</li>
<li>sudo systemctl start postfix</li>
<li>sudo firewall-cmd –permanent –add-service=http</li>
<li>sudo systemctl reload firewalld</li>
</ol>
<p><strong>添加GitLab仓库,并安装到服务器上</strong></p>
<ol>
<li>curl -sS <a href="http://packages.gitlab.cc/install/gitlab-ce/script.rpm.sh" target="_blank" rel="noopener">http://packages.gitlab.cc/install/gitlab-ce/script.rpm.sh</a> | sudo bash</li>
<li>sudo yum install gitlab-ce</li>
</ol>
<h4 id="启动GitLab"><a href="#启动GitLab" class="headerlink" title="启动GitLab"></a>启动GitLab</h4><ol>
<li><p>sudo gitlab-ctl reconfigure</p>
<p>gitlab-ctl reconfigure  更新配置文件</p>
</li>
</ol>
<p>gitlab-ctl tail 查看日志</p>
<p>默认配置地址 /etc/gilab/</p>
<p>访问之后页面为502，跟踪日志为超时，需要配置</p>
<p>gitlab_rails[‘webhook_timeout’] = 90 </p>
<p>gitlab_rails[‘git_timeout’]=90</p>
<p>之后就可以了。</p>
<p>卸载gitlab</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">一、停止gitlab</span><br><span class="line">sudo gitlab-ctl stop</span><br><span class="line">二、卸载gitlab</span><br><span class="line">sudo rpm -e gitlab-ce</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://huangpu311.github.io/xiaojiang/2018/02/05/git/" data-id="cjlvy99i6000emova9aminx9l" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/xiaojiang/2018/02/06/mongodb/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          mongodb
        
      </div>
    </a>
  
  
    <a href="/xiaojiang/2018/02/02/zookeeper/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">zookeeper</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/xiaojiang/tags/spring源码/">spring源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/xiaojiang/tags/分销/">分销</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/xiaojiang/tags/spring源码/" style="font-size: 10px;">spring源码</a> <a href="/xiaojiang/tags/分销/" style="font-size: 10px;">分销</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/xiaojiang/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/xiaojiang/2018/07/19/分销管理总览/">(no title)</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/05/02/操作技巧/">操作技巧</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/04/23/spring源码阅读/">spring源码阅读</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/04/20/tomcat/">tomcat</a>
          </li>
        
          <li>
            <a href="/xiaojiang/2018/04/20/分销管理/">分销管理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 小江<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/xiaojiang/" class="mobile-nav-link">Home</a>
  
    <a href="/xiaojiang/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/xiaojiang/fancybox/jquery.fancybox.css">
  <script src="/xiaojiang/fancybox/jquery.fancybox.pack.js"></script>


<script src="/xiaojiang/js/script.js"></script>



  </div>
</body>
</html>